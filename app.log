2019-04-22 10:39:40.072  INFO 9472 --- [main] viarzilin.MainControllerTest             : Starting MainControllerTest on DESKTOP-6NMKCEI with PID 9472 (started by Mikalai Viarzilin in G:\programs\sweater)
2019-04-22 10:39:40.204  INFO 9472 --- [main] viarzilin.MainControllerTest             : No active profile set, falling back to default profiles: default
2019-04-22 10:39:40.477  INFO 9472 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2e029d61: startup date [Mon Apr 22 10:39:40 MSK 2019]; root of context hierarchy
2019-04-22 10:39:55.003  INFO 9472 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$51a5c850] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 10:39:55.213  INFO 9472 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$ea53908a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 10:39:55.267  INFO 9472 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 10:39:55.293  INFO 9472 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@2935fd2c' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 10:39:55.342  INFO 9472 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$f28333c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 10:39:55.398  INFO 9472 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 10:39:56.561  INFO 9472 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway Community Edition 5.0.7 by Boxfuse
2019-04-22 10:39:56.640  INFO 9472 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-04-22 10:39:57.593  INFO 9472 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-04-22 10:39:57.621  INFO 9472 --- [main] o.f.c.internal.database.DatabaseFactory  : Database: jdbc:postgresql://localhost:5433/sweatertest (PostgreSQL 11.2)
2019-04-22 10:39:57.872  WARN 9472 --- [main] o.f.core.internal.database.Database      : Flyway upgrade recommended: PostgreSQL 11.2 is newer than this version of Flyway and support has not been tested.
2019-04-22 10:39:58.914  INFO 9472 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.414s)
2019-04-22 10:39:58.966  INFO 9472 --- [main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table: "public"."flyway_schema_history"
2019-04-22 10:40:01.701  INFO 9472 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": << Empty Schema >>
2019-04-22 10:40:01.754  INFO 9472 --- [main] o.f.core.internal.command.DbMigrate      : Migrating schema "public" to version 1 - Init DB
2019-04-22 10:40:02.798  INFO 9472 --- [main] o.f.core.internal.command.DbMigrate      : Migrating schema "public" to version 2 - Add admin
2019-04-22 10:40:02.829  INFO 9472 --- [main] o.f.core.internal.command.DbMigrate      : Migrating schema "public" to version 3 - Encode passwords
2019-04-22 10:40:04.975  INFO 9472 --- [main] o.f.core.internal.command.DbMigrate      : Migrating schema "public" to version 4 - Add subscriptions table
2019-04-22 10:40:05.048  INFO 9472 --- [main] o.f.core.internal.command.DbMigrate      : Successfully applied 4 migrations to schema "public" (execution time 00:06.092s)
2019-04-22 10:40:05.960  INFO 9472 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2019-04-22 10:40:06.122  INFO 9472 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-22 10:40:06.568  INFO 9472 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
2019-04-22 10:40:06.578  INFO 9472 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-04-22 10:40:06.872  INFO 9472 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2019-04-22 10:40:07.612  INFO 9472 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-04-22 10:40:08.341  INFO 9472 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-04-22 10:40:08.351  INFO 9472 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@ddffa6c
2019-04-22 10:40:12.251  INFO 9472 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 10:40:16.975  INFO 9472 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a914a00, org.springframework.security.web.context.SecurityContextPersistenceFilter@74d53d63, org.springframework.security.web.header.HeaderWriterFilter@6ba08a09, org.springframework.security.web.csrf.CsrfFilter@5535e9, org.springframework.security.web.authentication.logout.LogoutFilter@e27d97b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4deca78, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@654c2f81, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4c1b4e07, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@73b3ce31, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1d67348a, org.springframework.security.web.session.SessionManagementFilter@3b839f68, org.springframework.security.web.access.ExceptionTranslationFilter@6074d638, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@47f39279]
2019-04-22 10:40:18.567  INFO 9472 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 10:40:19.986  INFO 9472 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@2e029d61: startup date [Mon Apr 22 10:39:40 MSK 2019]; root of context hierarchy
2019-04-22 10:40:20.148  WARN 9472 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-22 10:40:20.341  INFO 9472 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.main(java.lang.String,org.springframework.ui.Model)
2019-04-22 10:40:20.349  INFO 9472 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[POST]}" onto public java.lang.String viarzilin.controller.MainController.add(viarzilin.domain.User,viarzilin.domain.Message,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 10:40:20.351  INFO 9472 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.greeting(java.util.Map<java.lang.String, java.lang.Object>)
2019-04-22 10:40:20.351  INFO 9472 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[POST]}" onto public java.lang.String viarzilin.controller.MessageEditorController.updateMessage(viarzilin.domain.User,java.lang.Long,viarzilin.domain.Message,java.lang.String,java.lang.String,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 10:40:20.361  INFO 9472 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.MessageEditorController.userMessages(viarzilin.domain.User,viarzilin.domain.User,org.springframework.ui.Model,viarzilin.domain.Message)
2019-04-22 10:40:20.371  INFO 9472 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.registration()
2019-04-22 10:40:20.371  INFO 9472 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[POST]}" onto public java.lang.String viarzilin.controller.RegistrationController.addUser(java.lang.String,java.lang.String,viarzilin.domain.User,org.springframework.validation.BindingResult,org.springframework.ui.Model)
2019-04-22 10:40:20.736  INFO 9472 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/activate/{code}],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.activate(org.springframework.ui.Model,java.lang.String)
2019-04-22 10:40:20.746  INFO 9472 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{type}/{user}/list],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model,viarzilin.domain.User,java.lang.String)
2019-04-22 10:40:20.746  INFO 9472 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model)
2019-04-22 10:40:20.746  INFO 9472 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/unsubscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.unsubscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 10:40:20.746  INFO 9472 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userEditForm(viarzilin.domain.User,org.springframework.ui.Model)
2019-04-22 10:40:20.746  INFO 9472 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.userSave(java.lang.String,java.util.Map<java.lang.String, java.lang.String>,viarzilin.domain.User)
2019-04-22 10:40:20.746  INFO 9472 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.getProfile(org.springframework.ui.Model,viarzilin.domain.User)
2019-04-22 10:40:20.746  INFO 9472 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.updateProfile(viarzilin.domain.User,java.lang.String,java.lang.String)
2019-04-22 10:40:20.746  INFO 9472 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/subscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.subscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 10:40:20.756  INFO 9472 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-04-22 10:40:20.756  INFO 9472 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-04-22 10:40:20.817  INFO 9472 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/login] onto handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2019-04-22 10:40:20.908  INFO 9472 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 10:40:20.918  INFO 9472 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 10:40:20.918  INFO 9472 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/img/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 10:40:20.918  INFO 9472 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/static/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 10:40:22.805  INFO 9472 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-04-22 10:40:23.482  INFO 9472 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql]
2019-04-22 10:40:23.938  INFO 9472 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql] in 456 ms.
2019-04-22 10:40:24.416  INFO 9472 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2019-04-22 10:40:24.416  INFO 9472 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2019-04-22 10:40:24.457  INFO 9472 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 41 ms
2019-04-22 10:40:25.356  INFO 9472 --- [main] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-04-22 10:40:25.430  INFO 9472 --- [main] viarzilin.MainControllerTest             : Started MainControllerTest in 50.893 seconds (JVM running for 63.176)
2019-04-22 10:40:25.672  INFO 9472 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 10:40:26.434  WARN 9472 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@12d2ce03] for test method [public void viarzilin.MainControllerTest.mainPageTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@72115c48]

org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [create-user-before.sql]: insert into users (id, active, password, username) values (1, 'dru', '$2a$08$fNUHI3FnO3cbT6VAcClJOOsIq93f2101ud2RAKiZFAh7Y2h.oFRzC', true), (2, 'mike', '$2a$08$fNUHI3FnO3cbT6VAcClJOOsIq93f2101ud2RAKiZFAh7Y2h.oFRzC', true); nested exception is org.postgresql.util.PSQLException: ОШИБКА: неверный синтаксис для типа boolean: "dru"
  Позиция: 63
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:112) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:291) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.postgresql.util.PSQLException: ОШИБКА: неверный синтаксис для типа boolean: "dru"
  Позиция: 63
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2440) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2183) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:308) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:441) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:365) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:307) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:293) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:270) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:266) ~[postgresql-42.2.5.jar:42.2.5]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 29 common frames omitted

2019-04-22 10:40:27.824  INFO 9472 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 10:40:27.826  WARN 9472 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'afterTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@12d2ce03] for test method [public void viarzilin.MainControllerTest.mainPageTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@72115c48]

org.springframework.jdbc.datasource.init.CannotReadScriptException: Cannot read SQL script from class path resource [create-user-after.sql]; nested exception is java.io.FileNotFoundException: class path resource [create-user-after.sql] cannot be opened because it does not exist
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:453) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.afterTestMethod(SqlScriptsTestExecutionListener.java:121) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:443) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:94) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: java.io.FileNotFoundException: class path resource [create-user-after.sql] cannot be opened because it does not exist
	at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:180) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.core.io.support.EncodedResource.getReader(EncodedResource.java:146) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.readScript(ScriptUtils.java:282) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:450) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 28 common frames omitted

2019-04-22 10:40:28.059  INFO 9472 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 10:40:28.099  WARN 9472 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@12d2ce03] for test method [public void viarzilin.MainControllerTest.messageListTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@c770b57]

org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [create-user-before.sql]: insert into users (id, active, password, username) values (1, 'dru', '$2a$08$fNUHI3FnO3cbT6VAcClJOOsIq93f2101ud2RAKiZFAh7Y2h.oFRzC', true), (2, 'mike', '$2a$08$fNUHI3FnO3cbT6VAcClJOOsIq93f2101ud2RAKiZFAh7Y2h.oFRzC', true); nested exception is org.postgresql.util.PSQLException: ОШИБКА: неверный синтаксис для типа boolean: "dru"
  Позиция: 63
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:112) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:291) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.postgresql.util.PSQLException: ОШИБКА: неверный синтаксис для типа boolean: "dru"
  Позиция: 63
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2440) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2183) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:308) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:441) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:365) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:307) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:293) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:270) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:266) ~[postgresql-42.2.5.jar:42.2.5]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 29 common frames omitted

2019-04-22 10:40:28.128  INFO 9472 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 10:40:28.130  WARN 9472 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'afterTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@12d2ce03] for test method [public void viarzilin.MainControllerTest.messageListTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@c770b57]

org.springframework.jdbc.datasource.init.CannotReadScriptException: Cannot read SQL script from class path resource [create-user-after.sql]; nested exception is java.io.FileNotFoundException: class path resource [create-user-after.sql] cannot be opened because it does not exist
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:453) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.afterTestMethod(SqlScriptsTestExecutionListener.java:121) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:443) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:94) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: java.io.FileNotFoundException: class path resource [create-user-after.sql] cannot be opened because it does not exist
	at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:180) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.core.io.support.EncodedResource.getReader(EncodedResource.java:146) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.readScript(ScriptUtils.java:282) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:450) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 28 common frames omitted

2019-04-22 10:40:28.179  INFO 9472 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@2e029d61: startup date [Mon Apr 22 10:39:40 MSK 2019]; root of context hierarchy
2019-04-22 10:40:28.272  INFO 9472 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 10:40:28.282  INFO 9472 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-04-22 10:40:28.657  INFO 9472 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-04-22 11:18:29.956  INFO 12284 --- [main] viarzilin.MainControllerTest             : Starting MainControllerTest on DESKTOP-6NMKCEI with PID 12284 (started by Mikalai Viarzilin in G:\programs\sweater)
2019-04-22 11:18:29.966  INFO 12284 --- [main] viarzilin.MainControllerTest             : No active profile set, falling back to default profiles: default
2019-04-22 11:18:30.057  INFO 12284 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@482d776b: startup date [Mon Apr 22 11:18:30 MSK 2019]; root of context hierarchy
2019-04-22 11:18:38.881  INFO 12284 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$9e1a3de8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:18:39.074  INFO 12284 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$36c80622] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:18:39.142  INFO 12284 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:18:39.165  INFO 12284 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@97a145b' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:18:39.215  INFO 12284 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$5b9ca8d4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:18:39.246  INFO 12284 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:18:40.087  INFO 12284 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway Community Edition 5.0.7 by Boxfuse
2019-04-22 11:18:40.107  INFO 12284 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-04-22 11:18:40.724  INFO 12284 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-04-22 11:18:40.734  INFO 12284 --- [main] o.f.c.internal.database.DatabaseFactory  : Database: jdbc:postgresql://localhost:5433/sweatertest (PostgreSQL 11.2)
2019-04-22 11:18:40.775  WARN 12284 --- [main] o.f.core.internal.database.Database      : Flyway upgrade recommended: PostgreSQL 11.2 is newer than this version of Flyway and support has not been tested.
2019-04-22 11:18:40.967  INFO 12284 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.070s)
2019-04-22 11:18:41.018  INFO 12284 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 4
2019-04-22 11:18:41.018  INFO 12284 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2019-04-22 11:18:41.787  INFO 12284 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2019-04-22 11:18:41.919  INFO 12284 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-22 11:18:42.445  INFO 12284 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
2019-04-22 11:18:42.456  INFO 12284 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-04-22 11:18:42.628  INFO 12284 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2019-04-22 11:18:43.416  INFO 12284 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-04-22 11:18:43.893  INFO 12284 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-04-22 11:18:43.893  INFO 12284 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@1491cd6c
2019-04-22 11:18:46.849  INFO 12284 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 11:18:52.177  INFO 12284 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6eadd342, org.springframework.security.web.context.SecurityContextPersistenceFilter@476a970c, org.springframework.security.web.header.HeaderWriterFilter@75adb1c0, org.springframework.security.web.csrf.CsrfFilter@576b385d, org.springframework.security.web.authentication.logout.LogoutFilter@45b6c666, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4cd51e4e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@15ee8861, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@27d5eb00, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@7857cb1d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@30a20fb3, org.springframework.security.web.session.SessionManagementFilter@7ac90dab, org.springframework.security.web.access.ExceptionTranslationFilter@5265a8dd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1ab502f6]
2019-04-22 11:18:53.211  INFO 12284 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:18:54.123  INFO 12284 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@482d776b: startup date [Mon Apr 22 11:18:30 MSK 2019]; root of context hierarchy
2019-04-22 11:18:54.295  WARN 12284 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-22 11:18:54.931  INFO 12284 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.main(java.lang.String,org.springframework.ui.Model)
2019-04-22 11:18:54.934  INFO 12284 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[POST]}" onto public java.lang.String viarzilin.controller.MainController.add(viarzilin.domain.User,viarzilin.domain.Message,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 11:18:54.934  INFO 12284 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.greeting(java.util.Map<java.lang.String, java.lang.Object>)
2019-04-22 11:18:54.934  INFO 12284 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[POST]}" onto public java.lang.String viarzilin.controller.MessageEditorController.updateMessage(viarzilin.domain.User,java.lang.Long,viarzilin.domain.Message,java.lang.String,java.lang.String,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 11:18:54.934  INFO 12284 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.MessageEditorController.userMessages(viarzilin.domain.User,viarzilin.domain.User,org.springframework.ui.Model,viarzilin.domain.Message)
2019-04-22 11:18:54.954  INFO 12284 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/activate/{code}],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.activate(org.springframework.ui.Model,java.lang.String)
2019-04-22 11:18:54.954  INFO 12284 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.registration()
2019-04-22 11:18:54.964  INFO 12284 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[POST]}" onto public java.lang.String viarzilin.controller.RegistrationController.addUser(java.lang.String,java.lang.String,viarzilin.domain.User,org.springframework.validation.BindingResult,org.springframework.ui.Model)
2019-04-22 11:18:54.974  INFO 12284 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/unsubscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.unsubscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 11:18:54.982  INFO 12284 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.userSave(java.lang.String,java.util.Map<java.lang.String, java.lang.String>,viarzilin.domain.User)
2019-04-22 11:18:54.982  INFO 12284 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{type}/{user}/list],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model,viarzilin.domain.User,java.lang.String)
2019-04-22 11:18:54.984  INFO 12284 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model)
2019-04-22 11:18:54.984  INFO 12284 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/subscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.subscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 11:18:54.984  INFO 12284 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.updateProfile(viarzilin.domain.User,java.lang.String,java.lang.String)
2019-04-22 11:18:54.994  INFO 12284 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userEditForm(viarzilin.domain.User,org.springframework.ui.Model)
2019-04-22 11:18:54.994  INFO 12284 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.getProfile(org.springframework.ui.Model,viarzilin.domain.User)
2019-04-22 11:18:55.004  INFO 12284 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-04-22 11:18:55.004  INFO 12284 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-04-22 11:18:55.055  INFO 12284 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/login] onto handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2019-04-22 11:18:55.124  INFO 12284 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:18:55.124  INFO 12284 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:18:55.126  INFO 12284 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/img/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:18:55.126  INFO 12284 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/static/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:18:56.240  INFO 12284 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-04-22 11:18:56.798  INFO 12284 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql]
2019-04-22 11:18:56.848  INFO 12284 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql] in 42 ms.
2019-04-22 11:18:57.710  INFO 12284 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2019-04-22 11:18:57.710  INFO 12284 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2019-04-22 11:18:57.750  INFO 12284 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 40 ms
2019-04-22 11:18:57.912  INFO 12284 --- [main] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-04-22 11:18:57.973  INFO 12284 --- [main] viarzilin.MainControllerTest             : Started MainControllerTest in 32.383 seconds (JVM running for 38.392)
2019-04-22 11:18:58.084  INFO 12284 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 11:18:58.196  WARN 12284 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7d446ed1] for test method [public void viarzilin.MainControllerTest.mainPageTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@7a6e0f3c]

org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [create-user-before.sql]: insert into users (id, active, password, username) values (1, 'dru', '$2a$08$fNUHI3FnO3cbT6VAcClJOOsIq93f2101ud2RAKiZFAh7Y2h.oFRzC', true), (2, 'mike', '$2a$08$fNUHI3FnO3cbT6VAcClJOOsIq93f2101ud2RAKiZFAh7Y2h.oFRzC', true); nested exception is org.postgresql.util.PSQLException: ОШИБКА: неверный синтаксис для типа boolean: "dru"
  Позиция: 63
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:112) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:291) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.postgresql.util.PSQLException: ОШИБКА: неверный синтаксис для типа boolean: "dru"
  Позиция: 63
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2440) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2183) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:308) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:441) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:365) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:307) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:293) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:270) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:266) ~[postgresql-42.2.5.jar:42.2.5]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 29 common frames omitted

2019-04-22 11:18:58.639  INFO 12284 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 11:18:58.641  WARN 12284 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'afterTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7d446ed1] for test method [public void viarzilin.MainControllerTest.mainPageTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@7a6e0f3c]

org.springframework.jdbc.datasource.init.CannotReadScriptException: Cannot read SQL script from class path resource [create-user-after.sql]; nested exception is java.io.FileNotFoundException: class path resource [create-user-after.sql] cannot be opened because it does not exist
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:453) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.afterTestMethod(SqlScriptsTestExecutionListener.java:121) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:443) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:94) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: java.io.FileNotFoundException: class path resource [create-user-after.sql] cannot be opened because it does not exist
	at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:180) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.core.io.support.EncodedResource.getReader(EncodedResource.java:146) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.readScript(ScriptUtils.java:282) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:450) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 28 common frames omitted

2019-04-22 11:18:58.702  INFO 12284 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 11:18:58.712  WARN 12284 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7d446ed1] for test method [public void viarzilin.MainControllerTest.messageListTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@363a09a2]

org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [create-user-before.sql]: insert into users (id, active, password, username) values (1, 'dru', '$2a$08$fNUHI3FnO3cbT6VAcClJOOsIq93f2101ud2RAKiZFAh7Y2h.oFRzC', true), (2, 'mike', '$2a$08$fNUHI3FnO3cbT6VAcClJOOsIq93f2101ud2RAKiZFAh7Y2h.oFRzC', true); nested exception is org.postgresql.util.PSQLException: ОШИБКА: неверный синтаксис для типа boolean: "dru"
  Позиция: 63
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:112) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:291) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.postgresql.util.PSQLException: ОШИБКА: неверный синтаксис для типа boolean: "dru"
  Позиция: 63
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2440) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2183) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:308) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:441) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:365) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:307) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:293) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:270) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:266) ~[postgresql-42.2.5.jar:42.2.5]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 29 common frames omitted

2019-04-22 11:18:58.781  INFO 12284 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 11:18:58.783  WARN 12284 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'afterTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7d446ed1] for test method [public void viarzilin.MainControllerTest.messageListTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@363a09a2]

org.springframework.jdbc.datasource.init.CannotReadScriptException: Cannot read SQL script from class path resource [create-user-after.sql]; nested exception is java.io.FileNotFoundException: class path resource [create-user-after.sql] cannot be opened because it does not exist
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:453) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.afterTestMethod(SqlScriptsTestExecutionListener.java:121) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:443) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:94) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: java.io.FileNotFoundException: class path resource [create-user-after.sql] cannot be opened because it does not exist
	at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:180) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.core.io.support.EncodedResource.getReader(EncodedResource.java:146) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.readScript(ScriptUtils.java:282) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:450) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 28 common frames omitted

2019-04-22 11:18:58.996  INFO 12284 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@482d776b: startup date [Mon Apr 22 11:18:30 MSK 2019]; root of context hierarchy
2019-04-22 11:18:59.006  INFO 12284 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 11:18:59.016  INFO 12284 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-04-22 11:18:59.056  INFO 12284 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-04-22 11:20:47.809  INFO 11328 --- [main] viarzilin.MainControllerTest             : Starting MainControllerTest on DESKTOP-6NMKCEI with PID 11328 (started by Mikalai Viarzilin in G:\programs\sweater)
2019-04-22 11:20:47.819  INFO 11328 --- [main] viarzilin.MainControllerTest             : No active profile set, falling back to default profiles: default
2019-04-22 11:20:47.940  INFO 11328 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@482d776b: startup date [Mon Apr 22 11:20:47 MSK 2019]; root of context hierarchy
2019-04-22 11:21:00.662  INFO 11328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$b2b93b73] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:21:00.844  INFO 11328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$4b6703ad] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:21:00.905  INFO 11328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:21:00.925  INFO 11328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@526a9908' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:21:00.986  INFO 11328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$703ba65f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:21:01.037  INFO 11328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:21:01.868  INFO 11328 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway Community Edition 5.0.7 by Boxfuse
2019-04-22 11:21:01.899  INFO 11328 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-04-22 11:21:02.406  INFO 11328 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-04-22 11:21:02.426  INFO 11328 --- [main] o.f.c.internal.database.DatabaseFactory  : Database: jdbc:postgresql://localhost:5433/sweatertest (PostgreSQL 11.2)
2019-04-22 11:21:02.456  WARN 11328 --- [main] o.f.core.internal.database.Database      : Flyway upgrade recommended: PostgreSQL 11.2 is newer than this version of Flyway and support has not been tested.
2019-04-22 11:21:02.871  INFO 11328 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.299s)
2019-04-22 11:21:02.912  INFO 11328 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 4
2019-04-22 11:21:02.912  INFO 11328 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2019-04-22 11:21:03.723  INFO 11328 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2019-04-22 11:21:03.824  INFO 11328 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-22 11:21:04.351  INFO 11328 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
2019-04-22 11:21:04.359  INFO 11328 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-04-22 11:21:04.615  INFO 11328 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2019-04-22 11:21:05.273  INFO 11328 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-04-22 11:21:05.829  INFO 11328 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-04-22 11:21:05.831  INFO 11328 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@401317a0
2019-04-22 11:21:09.143  INFO 11328 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 11:21:12.662  INFO 11328 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@34f24a11, org.springframework.security.web.context.SecurityContextPersistenceFilter@34626d4, org.springframework.security.web.header.HeaderWriterFilter@7ac90dab, org.springframework.security.web.csrf.CsrfFilter@fabfc79, org.springframework.security.web.authentication.logout.LogoutFilter@7fc56d61, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@25172993, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@31a024ea, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@225ac5e7, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@7b54a0a4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3f6d36eb, org.springframework.security.web.session.SessionManagementFilter@5868ea91, org.springframework.security.web.access.ExceptionTranslationFilter@5535e9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@31c56721]
2019-04-22 11:21:13.767  INFO 11328 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:21:14.892  INFO 11328 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@482d776b: startup date [Mon Apr 22 11:20:47 MSK 2019]; root of context hierarchy
2019-04-22 11:21:15.105  WARN 11328 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-22 11:21:15.295  INFO 11328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.main(java.lang.String,org.springframework.ui.Model)
2019-04-22 11:21:15.298  INFO 11328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[POST]}" onto public java.lang.String viarzilin.controller.MainController.add(viarzilin.domain.User,viarzilin.domain.Message,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 11:21:15.298  INFO 11328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.greeting(java.util.Map<java.lang.String, java.lang.Object>)
2019-04-22 11:21:15.308  INFO 11328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.MessageEditorController.userMessages(viarzilin.domain.User,viarzilin.domain.User,org.springframework.ui.Model,viarzilin.domain.Message)
2019-04-22 11:21:15.328  INFO 11328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[POST]}" onto public java.lang.String viarzilin.controller.MessageEditorController.updateMessage(viarzilin.domain.User,java.lang.Long,viarzilin.domain.Message,java.lang.String,java.lang.String,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 11:21:15.338  INFO 11328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[POST]}" onto public java.lang.String viarzilin.controller.RegistrationController.addUser(java.lang.String,java.lang.String,viarzilin.domain.User,org.springframework.validation.BindingResult,org.springframework.ui.Model)
2019-04-22 11:21:15.346  INFO 11328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/activate/{code}],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.activate(org.springframework.ui.Model,java.lang.String)
2019-04-22 11:21:15.348  INFO 11328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.registration()
2019-04-22 11:21:15.379  INFO 11328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.userSave(java.lang.String,java.util.Map<java.lang.String, java.lang.String>,viarzilin.domain.User)
2019-04-22 11:21:15.389  INFO 11328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{type}/{user}/list],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model,viarzilin.domain.User,java.lang.String)
2019-04-22 11:21:15.389  INFO 11328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model)
2019-04-22 11:21:15.389  INFO 11328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/unsubscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.unsubscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 11:21:15.399  INFO 11328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.updateProfile(viarzilin.domain.User,java.lang.String,java.lang.String)
2019-04-22 11:21:15.409  INFO 11328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.getProfile(org.springframework.ui.Model,viarzilin.domain.User)
2019-04-22 11:21:15.409  INFO 11328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/subscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.subscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 11:21:15.409  INFO 11328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userEditForm(viarzilin.domain.User,org.springframework.ui.Model)
2019-04-22 11:21:15.419  INFO 11328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-04-22 11:21:15.419  INFO 11328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-04-22 11:21:15.541  INFO 11328 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/login] onto handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2019-04-22 11:21:15.673  INFO 11328 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:21:15.673  INFO 11328 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:21:15.673  INFO 11328 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/img/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:21:15.673  INFO 11328 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/static/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:21:16.857  INFO 11328 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-04-22 11:21:17.397  INFO 11328 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql]
2019-04-22 11:21:17.447  INFO 11328 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql] in 42 ms.
2019-04-22 11:21:17.934  INFO 11328 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2019-04-22 11:21:17.944  INFO 11328 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2019-04-22 11:21:17.995  INFO 11328 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 51 ms
2019-04-22 11:21:18.228  INFO 11328 --- [main] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-04-22 11:21:18.266  INFO 11328 --- [main] viarzilin.MainControllerTest             : Started MainControllerTest in 32.992 seconds (JVM running for 38.314)
2019-04-22 11:21:18.390  INFO 11328 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 11:21:18.572  WARN 11328 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7d446ed1] for test method [public void viarzilin.MainControllerTest.mainPageTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@2bfa5678]

org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [create-user-before.sql]: insert into user_role (user_id, roles) values ("1", "USER"), ("1", "ADMIN"), ("2", "USER"); nested exception is org.postgresql.util.PSQLException: ОШИБКА: столбец "1" не существует
  Позиция: 48
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:112) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:291) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.postgresql.util.PSQLException: ОШИБКА: столбец "1" не существует
  Позиция: 48
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2440) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2183) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:308) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:441) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:365) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:307) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:293) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:270) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:266) ~[postgresql-42.2.5.jar:42.2.5]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 29 common frames omitted

2019-04-22 11:21:18.988  INFO 11328 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 11:21:18.998  WARN 11328 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'afterTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7d446ed1] for test method [public void viarzilin.MainControllerTest.mainPageTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@2bfa5678]

org.springframework.jdbc.datasource.init.CannotReadScriptException: Cannot read SQL script from class path resource [create-user-after.sql]; nested exception is java.io.FileNotFoundException: class path resource [create-user-after.sql] cannot be opened because it does not exist
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:453) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.afterTestMethod(SqlScriptsTestExecutionListener.java:121) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:443) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:94) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: java.io.FileNotFoundException: class path resource [create-user-after.sql] cannot be opened because it does not exist
	at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:180) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.core.io.support.EncodedResource.getReader(EncodedResource.java:146) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.readScript(ScriptUtils.java:282) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:450) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 28 common frames omitted

2019-04-22 11:21:19.077  INFO 11328 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 11:21:19.090  WARN 11328 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7d446ed1] for test method [public void viarzilin.MainControllerTest.messageListTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@16e0afab]

org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [create-user-before.sql]: insert into user_role (user_id, roles) values ("1", "USER"), ("1", "ADMIN"), ("2", "USER"); nested exception is org.postgresql.util.PSQLException: ОШИБКА: столбец "1" не существует
  Позиция: 48
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:112) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:291) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.postgresql.util.PSQLException: ОШИБКА: столбец "1" не существует
  Позиция: 48
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2440) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2183) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:308) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:441) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:365) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:307) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:293) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:270) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:266) ~[postgresql-42.2.5.jar:42.2.5]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 29 common frames omitted

2019-04-22 11:21:19.108  INFO 11328 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 11:21:19.120  WARN 11328 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'afterTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7d446ed1] for test method [public void viarzilin.MainControllerTest.messageListTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@16e0afab]

org.springframework.jdbc.datasource.init.CannotReadScriptException: Cannot read SQL script from class path resource [create-user-after.sql]; nested exception is java.io.FileNotFoundException: class path resource [create-user-after.sql] cannot be opened because it does not exist
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:453) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.afterTestMethod(SqlScriptsTestExecutionListener.java:121) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:443) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:94) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: java.io.FileNotFoundException: class path resource [create-user-after.sql] cannot be opened because it does not exist
	at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:180) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.core.io.support.EncodedResource.getReader(EncodedResource.java:146) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.readScript(ScriptUtils.java:282) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:450) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 28 common frames omitted

2019-04-22 11:21:19.191  INFO 11328 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@482d776b: startup date [Mon Apr 22 11:20:47 MSK 2019]; root of context hierarchy
2019-04-22 11:21:19.353  INFO 11328 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 11:21:19.353  INFO 11328 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-04-22 11:21:19.404  INFO 11328 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-04-22 11:24:43.685  INFO 2912 --- [main] viarzilin.MainControllerTest             : Starting MainControllerTest on DESKTOP-6NMKCEI with PID 2912 (started by Mikalai Viarzilin in G:\programs\sweater)
2019-04-22 11:24:43.725  INFO 2912 --- [main] viarzilin.MainControllerTest             : No active profile set, falling back to default profiles: default
2019-04-22 11:24:43.796  INFO 2912 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@482d776b: startup date [Mon Apr 22 11:24:43 MSK 2019]; root of context hierarchy
2019-04-22 11:24:56.210  INFO 2912 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$30a3a319] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:24:56.372  INFO 2912 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$c9516b53] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:24:56.412  INFO 2912 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:24:56.422  INFO 2912 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@633fd91' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:24:56.502  INFO 2912 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$ee260e05] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:24:56.554  INFO 2912 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:24:57.254  INFO 2912 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway Community Edition 5.0.7 by Boxfuse
2019-04-22 11:24:57.274  INFO 2912 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-04-22 11:24:57.842  INFO 2912 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-04-22 11:24:57.852  INFO 2912 --- [main] o.f.c.internal.database.DatabaseFactory  : Database: jdbc:postgresql://localhost:5433/sweatertest (PostgreSQL 11.2)
2019-04-22 11:24:57.892  WARN 2912 --- [main] o.f.core.internal.database.Database      : Flyway upgrade recommended: PostgreSQL 11.2 is newer than this version of Flyway and support has not been tested.
2019-04-22 11:24:58.388  INFO 2912 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.341s)
2019-04-22 11:24:58.429  INFO 2912 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 4
2019-04-22 11:24:58.429  INFO 2912 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2019-04-22 11:24:59.219  INFO 2912 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2019-04-22 11:24:59.341  INFO 2912 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-22 11:24:59.827  INFO 2912 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
2019-04-22 11:24:59.838  INFO 2912 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-04-22 11:25:00.111  INFO 2912 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2019-04-22 11:25:00.818  INFO 2912 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-04-22 11:25:01.428  INFO 2912 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-04-22 11:25:01.428  INFO 2912 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@664db2ca
2019-04-22 11:25:04.731  INFO 2912 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 11:25:11.136  INFO 2912 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b54a0a4, org.springframework.security.web.context.SecurityContextPersistenceFilter@40d370fa, org.springframework.security.web.header.HeaderWriterFilter@5535e9, org.springframework.security.web.csrf.CsrfFilter@259aec72, org.springframework.security.web.authentication.logout.LogoutFilter@3bc3d70e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1ab502f6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@476a970c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2914a328, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@4e0802e0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@682d9f21, org.springframework.security.web.session.SessionManagementFilter@e3692ca, org.springframework.security.web.access.ExceptionTranslationFilter@2555a986, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@579ce2e9]
2019-04-22 11:25:12.516  INFO 2912 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:25:13.704  INFO 2912 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@482d776b: startup date [Mon Apr 22 11:24:43 MSK 2019]; root of context hierarchy
2019-04-22 11:25:14.023  WARN 2912 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-22 11:25:14.246  INFO 2912 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.main(java.lang.String,org.springframework.ui.Model)
2019-04-22 11:25:14.255  INFO 2912 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[POST]}" onto public java.lang.String viarzilin.controller.MainController.add(viarzilin.domain.User,viarzilin.domain.Message,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 11:25:14.255  INFO 2912 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.greeting(java.util.Map<java.lang.String, java.lang.Object>)
2019-04-22 11:25:14.255  INFO 2912 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[POST]}" onto public java.lang.String viarzilin.controller.MessageEditorController.updateMessage(viarzilin.domain.User,java.lang.Long,viarzilin.domain.Message,java.lang.String,java.lang.String,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 11:25:14.255  INFO 2912 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.MessageEditorController.userMessages(viarzilin.domain.User,viarzilin.domain.User,org.springframework.ui.Model,viarzilin.domain.Message)
2019-04-22 11:25:14.273  INFO 2912 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[POST]}" onto public java.lang.String viarzilin.controller.RegistrationController.addUser(java.lang.String,java.lang.String,viarzilin.domain.User,org.springframework.validation.BindingResult,org.springframework.ui.Model)
2019-04-22 11:25:14.275  INFO 2912 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/activate/{code}],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.activate(org.springframework.ui.Model,java.lang.String)
2019-04-22 11:25:15.753  INFO 2912 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.registration()
2019-04-22 11:25:15.771  INFO 2912 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userEditForm(viarzilin.domain.User,org.springframework.ui.Model)
2019-04-22 11:25:15.771  INFO 2912 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/subscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.subscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 11:25:15.774  INFO 2912 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/unsubscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.unsubscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 11:25:15.776  INFO 2912 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.getProfile(org.springframework.ui.Model,viarzilin.domain.User)
2019-04-22 11:25:15.776  INFO 2912 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.userSave(java.lang.String,java.util.Map<java.lang.String, java.lang.String>,viarzilin.domain.User)
2019-04-22 11:25:15.780  INFO 2912 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.updateProfile(viarzilin.domain.User,java.lang.String,java.lang.String)
2019-04-22 11:25:15.786  INFO 2912 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{type}/{user}/list],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model,viarzilin.domain.User,java.lang.String)
2019-04-22 11:25:15.786  INFO 2912 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model)
2019-04-22 11:25:15.796  INFO 2912 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-04-22 11:25:15.800  INFO 2912 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-04-22 11:25:15.862  INFO 2912 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/login] onto handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2019-04-22 11:25:15.964  INFO 2912 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:25:15.964  INFO 2912 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:25:15.964  INFO 2912 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/img/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:25:15.964  INFO 2912 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/static/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:25:17.545  INFO 2912 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-04-22 11:25:18.281  INFO 2912 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql]
2019-04-22 11:25:18.450  INFO 2912 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql] in 134 ms.
2019-04-22 11:25:19.317  INFO 2912 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2019-04-22 11:25:19.317  INFO 2912 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2019-04-22 11:25:19.419  INFO 2912 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 63 ms
2019-04-22 11:25:19.622  INFO 2912 --- [main] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-04-22 11:25:19.683  INFO 2912 --- [main] viarzilin.MainControllerTest             : Started MainControllerTest in 38.543 seconds (JVM running for 44.763)
2019-04-22 11:25:19.805  INFO 2912 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 11:25:20.221  WARN 2912 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7d446ed1] for test method [public void viarzilin.MainControllerTest.mainPageTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@2178d296]

org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [create-user-before.sql]: insert into user_role (user_id, roles) values ("1", "USER"), ("1", "ADMIN"), ("2", "USER"); nested exception is org.postgresql.util.PSQLException: ОШИБКА: столбец "1" не существует
  Позиция: 48
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:112) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:291) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.postgresql.util.PSQLException: ОШИБКА: столбец "1" не существует
  Позиция: 48
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2440) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2183) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:308) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:441) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:365) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:307) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:293) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:270) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:266) ~[postgresql-42.2.5.jar:42.2.5]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 29 common frames omitted

2019-04-22 11:25:20.871  INFO 2912 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 11:25:20.881  WARN 2912 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'afterTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7d446ed1] for test method [public void viarzilin.MainControllerTest.mainPageTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@2178d296]

org.springframework.jdbc.datasource.init.CannotReadScriptException: Cannot read SQL script from class path resource [create-user-after.sql]; nested exception is java.io.FileNotFoundException: class path resource [create-user-after.sql] cannot be opened because it does not exist
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:453) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.afterTestMethod(SqlScriptsTestExecutionListener.java:121) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:443) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:94) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: java.io.FileNotFoundException: class path resource [create-user-after.sql] cannot be opened because it does not exist
	at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:180) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.core.io.support.EncodedResource.getReader(EncodedResource.java:146) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.readScript(ScriptUtils.java:282) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:450) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 28 common frames omitted

2019-04-22 11:25:20.962  INFO 2912 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 11:25:20.980  WARN 2912 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7d446ed1] for test method [public void viarzilin.MainControllerTest.messageListTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@55a5eea3]

org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [create-user-before.sql]: insert into user_role (user_id, roles) values ("1", "USER"), ("1", "ADMIN"), ("2", "USER"); nested exception is org.postgresql.util.PSQLException: ОШИБКА: столбец "1" не существует
  Позиция: 48
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:112) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:291) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.postgresql.util.PSQLException: ОШИБКА: столбец "1" не существует
  Позиция: 48
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2440) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2183) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:308) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:441) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:365) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:307) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:293) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:270) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:266) ~[postgresql-42.2.5.jar:42.2.5]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 29 common frames omitted

2019-04-22 11:25:21.003  INFO 2912 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 11:25:21.011  WARN 2912 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'afterTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7d446ed1] for test method [public void viarzilin.MainControllerTest.messageListTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@55a5eea3]

org.springframework.jdbc.datasource.init.CannotReadScriptException: Cannot read SQL script from class path resource [create-user-after.sql]; nested exception is java.io.FileNotFoundException: class path resource [create-user-after.sql] cannot be opened because it does not exist
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:453) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.afterTestMethod(SqlScriptsTestExecutionListener.java:121) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:443) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:94) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: java.io.FileNotFoundException: class path resource [create-user-after.sql] cannot be opened because it does not exist
	at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:180) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.core.io.support.EncodedResource.getReader(EncodedResource.java:146) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.readScript(ScriptUtils.java:282) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:450) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 28 common frames omitted

2019-04-22 11:25:21.135  INFO 2912 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@482d776b: startup date [Mon Apr 22 11:24:43 MSK 2019]; root of context hierarchy
2019-04-22 11:25:21.155  INFO 2912 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 11:25:21.165  INFO 2912 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-04-22 11:25:21.226  INFO 2912 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-04-22 11:28:24.134  INFO 296 --- [main] viarzilin.MainControllerTest             : Starting MainControllerTest on DESKTOP-6NMKCEI with PID 296 (started by Mikalai Viarzilin in G:\programs\sweater)
2019-04-22 11:28:24.134  INFO 296 --- [main] viarzilin.MainControllerTest             : No active profile set, falling back to default profiles: default
2019-04-22 11:28:24.245  INFO 296 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@482d776b: startup date [Mon Apr 22 11:28:24 MSK 2019]; root of context hierarchy
2019-04-22 11:28:35.284  INFO 296 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$232e9a76] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:28:35.456  INFO 296 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$bbdc62b0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:28:35.509  INFO 296 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:28:35.529  INFO 296 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@176555c' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:28:35.570  INFO 296 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$e0b10562] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:28:35.630  INFO 296 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:28:36.329  INFO 296 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway Community Edition 5.0.7 by Boxfuse
2019-04-22 11:28:36.350  INFO 296 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-04-22 11:28:36.785  INFO 296 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-04-22 11:28:36.803  INFO 296 --- [main] o.f.c.internal.database.DatabaseFactory  : Database: jdbc:postgresql://localhost:5433/sweatertest (PostgreSQL 11.2)
2019-04-22 11:28:36.835  WARN 296 --- [main] o.f.core.internal.database.Database      : Flyway upgrade recommended: PostgreSQL 11.2 is newer than this version of Flyway and support has not been tested.
2019-04-22 11:28:37.147  INFO 296 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.204s)
2019-04-22 11:28:37.189  INFO 296 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 4
2019-04-22 11:28:37.199  INFO 296 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2019-04-22 11:28:37.989  INFO 296 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2019-04-22 11:28:38.080  INFO 296 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-22 11:28:38.485  INFO 296 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
2019-04-22 11:28:38.485  INFO 296 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-04-22 11:28:38.738  INFO 296 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2019-04-22 11:28:39.487  INFO 296 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-04-22 11:28:40.064  INFO 296 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-04-22 11:28:40.064  INFO 296 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@7b95bdb0
2019-04-22 11:28:42.855  INFO 296 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 11:28:46.161  INFO 296 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1468fc85, org.springframework.security.web.context.SecurityContextPersistenceFilter@26291192, org.springframework.security.web.header.HeaderWriterFilter@62aee901, org.springframework.security.web.csrf.CsrfFilter@b87ea8b, org.springframework.security.web.authentication.logout.LogoutFilter@614361fa, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4e0802e0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@225ac5e7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6074d638, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@632dc41, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@47f39279, org.springframework.security.web.session.SessionManagementFilter@29b4444a, org.springframework.security.web.access.ExceptionTranslationFilter@34626d4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4ca907af]
2019-04-22 11:28:47.455  INFO 296 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:28:48.217  INFO 296 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@482d776b: startup date [Mon Apr 22 11:28:24 MSK 2019]; root of context hierarchy
2019-04-22 11:28:48.389  WARN 296 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-22 11:28:48.541  INFO 296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.main(java.lang.String,org.springframework.ui.Model)
2019-04-22 11:28:48.549  INFO 296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[POST]}" onto public java.lang.String viarzilin.controller.MainController.add(viarzilin.domain.User,viarzilin.domain.Message,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 11:28:48.551  INFO 296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.greeting(java.util.Map<java.lang.String, java.lang.Object>)
2019-04-22 11:28:48.551  INFO 296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[POST]}" onto public java.lang.String viarzilin.controller.MessageEditorController.updateMessage(viarzilin.domain.User,java.lang.Long,viarzilin.domain.Message,java.lang.String,java.lang.String,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 11:28:48.551  INFO 296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.MessageEditorController.userMessages(viarzilin.domain.User,viarzilin.domain.User,org.springframework.ui.Model,viarzilin.domain.Message)
2019-04-22 11:28:48.561  INFO 296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/activate/{code}],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.activate(org.springframework.ui.Model,java.lang.String)
2019-04-22 11:28:48.561  INFO 296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.registration()
2019-04-22 11:28:48.561  INFO 296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[POST]}" onto public java.lang.String viarzilin.controller.RegistrationController.addUser(java.lang.String,java.lang.String,viarzilin.domain.User,org.springframework.validation.BindingResult,org.springframework.ui.Model)
2019-04-22 11:28:48.582  INFO 296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.getProfile(org.springframework.ui.Model,viarzilin.domain.User)
2019-04-22 11:28:48.582  INFO 296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/subscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.subscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 11:28:48.582  INFO 296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userEditForm(viarzilin.domain.User,org.springframework.ui.Model)
2019-04-22 11:28:48.582  INFO 296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/unsubscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.unsubscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 11:28:48.590  INFO 296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{type}/{user}/list],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model,viarzilin.domain.User,java.lang.String)
2019-04-22 11:28:48.590  INFO 296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model)
2019-04-22 11:28:48.592  INFO 296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.updateProfile(viarzilin.domain.User,java.lang.String,java.lang.String)
2019-04-22 11:28:48.592  INFO 296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.userSave(java.lang.String,java.util.Map<java.lang.String, java.lang.String>,viarzilin.domain.User)
2019-04-22 11:28:48.602  INFO 296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-04-22 11:28:48.602  INFO 296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-04-22 11:28:48.683  INFO 296 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/login] onto handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2019-04-22 11:28:48.744  INFO 296 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:28:48.744  INFO 296 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:28:48.744  INFO 296 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/img/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:28:48.744  INFO 296 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/static/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:28:49.625  INFO 296 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-04-22 11:28:50.162  INFO 296 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql]
2019-04-22 11:28:50.192  INFO 296 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql] in 22 ms.
2019-04-22 11:28:50.575  INFO 296 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2019-04-22 11:28:50.575  INFO 296 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2019-04-22 11:28:50.607  INFO 296 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 30 ms
2019-04-22 11:28:50.739  INFO 296 --- [main] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-04-22 11:28:50.798  INFO 296 --- [main] viarzilin.MainControllerTest             : Started MainControllerTest in 28.966 seconds (JVM running for 35.174)
2019-04-22 11:28:50.911  INFO 296 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 11:28:50.952  WARN 296 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7d446ed1] for test method [public void viarzilin.MainControllerTest.mainPageTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@e581302]

org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [create-user-before.sql]: insert into user_role (user_id, roles) values ("1", "USER"), ("1", "ADMIN"), ("2", "USER"); nested exception is org.postgresql.util.PSQLException: ОШИБКА: столбец "1" не существует
  Позиция: 48
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:112) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:291) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.postgresql.util.PSQLException: ОШИБКА: столбец "1" не существует
  Позиция: 48
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2440) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2183) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:308) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:441) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:365) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:307) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:293) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:270) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:266) ~[postgresql-42.2.5.jar:42.2.5]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 29 common frames omitted

2019-04-22 11:28:54.625  INFO 296 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [message-list-after.sql]
2019-04-22 11:28:54.635  WARN 296 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'afterTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7d446ed1] for test method [public void viarzilin.MainControllerTest.mainPageTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@e581302]

org.springframework.jdbc.datasource.init.CannotReadScriptException: Cannot read SQL script from class path resource [message-list-after.sql]; nested exception is java.io.FileNotFoundException: class path resource [message-list-after.sql] cannot be opened because it does not exist
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:453) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.afterTestMethod(SqlScriptsTestExecutionListener.java:121) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:443) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:94) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: java.io.FileNotFoundException: class path resource [message-list-after.sql] cannot be opened because it does not exist
	at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:180) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.core.io.support.EncodedResource.getReader(EncodedResource.java:146) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.readScript(ScriptUtils.java:282) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:450) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 28 common frames omitted

2019-04-22 11:28:54.673  INFO 296 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 11:28:54.685  WARN 296 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7d446ed1] for test method [public void viarzilin.MainControllerTest.messageListTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@39a03ccc]

org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [create-user-before.sql]: insert into user_role (user_id, roles) values ("1", "USER"), ("1", "ADMIN"), ("2", "USER"); nested exception is org.postgresql.util.PSQLException: ОШИБКА: столбец "1" не существует
  Позиция: 48
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:112) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:291) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.postgresql.util.PSQLException: ОШИБКА: столбец "1" не существует
  Позиция: 48
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2440) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2183) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:308) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:441) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:365) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:307) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:293) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:270) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:266) ~[postgresql-42.2.5.jar:42.2.5]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 29 common frames omitted

2019-04-22 11:28:54.706  INFO 296 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [message-list-after.sql]
2019-04-22 11:28:54.714  WARN 296 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'afterTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7d446ed1] for test method [public void viarzilin.MainControllerTest.messageListTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@39a03ccc]

org.springframework.jdbc.datasource.init.CannotReadScriptException: Cannot read SQL script from class path resource [message-list-after.sql]; nested exception is java.io.FileNotFoundException: class path resource [message-list-after.sql] cannot be opened because it does not exist
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:453) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.afterTestMethod(SqlScriptsTestExecutionListener.java:121) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:443) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:94) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: java.io.FileNotFoundException: class path resource [message-list-after.sql] cannot be opened because it does not exist
	at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:180) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.core.io.support.EncodedResource.getReader(EncodedResource.java:146) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.readScript(ScriptUtils.java:282) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:450) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 28 common frames omitted

2019-04-22 11:28:54.797  INFO 296 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@482d776b: startup date [Mon Apr 22 11:28:24 MSK 2019]; root of context hierarchy
2019-04-22 11:28:54.878  INFO 296 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 11:28:54.878  INFO 296 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-04-22 11:28:55.007  INFO 296 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-04-22 11:38:21.562  INFO 9632 --- [main] viarzilin.MainControllerTest             : Starting MainControllerTest on DESKTOP-6NMKCEI with PID 9632 (started by Mikalai Viarzilin in G:\programs\sweater)
2019-04-22 11:38:21.572  INFO 9632 --- [main] viarzilin.MainControllerTest             : No active profile set, falling back to default profiles: default
2019-04-22 11:38:21.663  INFO 9632 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@482d776b: startup date [Mon Apr 22 11:38:21 MSK 2019]; root of context hierarchy
2019-04-22 11:38:35.865  INFO 9632 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$a06dce17] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:38:36.403  INFO 9632 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$391b9651] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:38:36.577  INFO 9632 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:38:36.587  INFO 9632 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@66f28a1f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:38:36.622  INFO 9632 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$5df03903] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:38:36.800  INFO 9632 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:38:37.789  INFO 9632 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway Community Edition 5.0.7 by Boxfuse
2019-04-22 11:38:37.819  INFO 9632 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-04-22 11:38:38.520  INFO 9632 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-04-22 11:38:38.540  INFO 9632 --- [main] o.f.c.internal.database.DatabaseFactory  : Database: jdbc:postgresql://localhost:5433/sweatertest (PostgreSQL 11.2)
2019-04-22 11:38:38.608  WARN 9632 --- [main] o.f.core.internal.database.Database      : Flyway upgrade recommended: PostgreSQL 11.2 is newer than this version of Flyway and support has not been tested.
2019-04-22 11:38:38.772  INFO 9632 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.096s)
2019-04-22 11:38:38.810  INFO 9632 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 4
2019-04-22 11:38:38.818  INFO 9632 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2019-04-22 11:38:39.952  INFO 9632 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2019-04-22 11:38:40.140  INFO 9632 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-22 11:38:40.867  INFO 9632 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
2019-04-22 11:38:40.872  INFO 9632 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-04-22 11:38:41.239  INFO 9632 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2019-04-22 11:38:42.335  INFO 9632 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-04-22 11:38:43.002  INFO 9632 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-04-22 11:38:43.010  INFO 9632 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5844a2d1
2019-04-22 11:38:48.269  INFO 9632 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 11:38:52.898  INFO 9632 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6fad5ace, org.springframework.security.web.context.SecurityContextPersistenceFilter@62aee901, org.springframework.security.web.header.HeaderWriterFilter@1ce57bbb, org.springframework.security.web.csrf.CsrfFilter@2fb70301, org.springframework.security.web.authentication.logout.LogoutFilter@126ff1a1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@23ea3853, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3ce7a354, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@78bce1c4, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@34f24a11, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@632dc41, org.springframework.security.web.session.SessionManagementFilter@15ee8861, org.springframework.security.web.access.ExceptionTranslationFilter@7ac90dab, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5b32e0b1]
2019-04-22 11:38:54.259  INFO 9632 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:38:55.340  INFO 9632 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@482d776b: startup date [Mon Apr 22 11:38:21 MSK 2019]; root of context hierarchy
2019-04-22 11:38:55.554  WARN 9632 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-22 11:38:55.861  INFO 9632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.main(java.lang.String,org.springframework.ui.Model)
2019-04-22 11:38:55.861  INFO 9632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[POST]}" onto public java.lang.String viarzilin.controller.MainController.add(viarzilin.domain.User,viarzilin.domain.Message,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 11:38:55.866  INFO 9632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.greeting(java.util.Map<java.lang.String, java.lang.Object>)
2019-04-22 11:38:55.869  INFO 9632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[POST]}" onto public java.lang.String viarzilin.controller.MessageEditorController.updateMessage(viarzilin.domain.User,java.lang.Long,viarzilin.domain.Message,java.lang.String,java.lang.String,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 11:38:55.871  INFO 9632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.MessageEditorController.userMessages(viarzilin.domain.User,viarzilin.domain.User,org.springframework.ui.Model,viarzilin.domain.Message)
2019-04-22 11:38:55.881  INFO 9632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.registration()
2019-04-22 11:38:55.881  INFO 9632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/activate/{code}],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.activate(org.springframework.ui.Model,java.lang.String)
2019-04-22 11:38:55.889  INFO 9632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[POST]}" onto public java.lang.String viarzilin.controller.RegistrationController.addUser(java.lang.String,java.lang.String,viarzilin.domain.User,org.springframework.validation.BindingResult,org.springframework.ui.Model)
2019-04-22 11:38:55.905  INFO 9632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.userSave(java.lang.String,java.util.Map<java.lang.String, java.lang.String>,viarzilin.domain.User)
2019-04-22 11:38:55.905  INFO 9632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userEditForm(viarzilin.domain.User,org.springframework.ui.Model)
2019-04-22 11:38:55.940  INFO 9632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.updateProfile(viarzilin.domain.User,java.lang.String,java.lang.String)
2019-04-22 11:38:55.940  INFO 9632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{type}/{user}/list],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model,viarzilin.domain.User,java.lang.String)
2019-04-22 11:38:55.940  INFO 9632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model)
2019-04-22 11:39:00.472  INFO 9632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.getProfile(org.springframework.ui.Model,viarzilin.domain.User)
2019-04-22 11:39:00.477  INFO 9632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/subscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.subscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 11:39:00.477  INFO 9632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/unsubscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.unsubscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 11:39:00.487  INFO 9632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-04-22 11:39:00.489  INFO 9632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-04-22 11:39:00.551  INFO 9632 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/login] onto handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2019-04-22 11:39:00.629  INFO 9632 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:39:00.629  INFO 9632 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:39:00.629  INFO 9632 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/img/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:39:00.629  INFO 9632 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/static/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:39:01.949  INFO 9632 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-04-22 11:39:02.490  INFO 9632 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql]
2019-04-22 11:39:02.527  INFO 9632 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql] in 31 ms.
2019-04-22 11:39:03.200  INFO 9632 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2019-04-22 11:39:03.206  INFO 9632 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2019-04-22 11:39:03.252  INFO 9632 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 44 ms
2019-04-22 11:39:03.461  INFO 9632 --- [main] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-04-22 11:39:03.601  INFO 9632 --- [main] viarzilin.MainControllerTest             : Started MainControllerTest in 44.863 seconds (JVM running for 50.758)
2019-04-22 11:39:03.740  INFO 9632 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 11:39:03.902  WARN 9632 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7d446ed1] for test method [public void viarzilin.MainControllerTest.mainPageTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@6158113e]

org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [create-user-before.sql]: insert into user_role (user_id, roles) values ("1", "USER"), ("1", "ADMIN"), ("2", "USER"); nested exception is org.postgresql.util.PSQLException: ОШИБКА: столбец "1" не существует
  Позиция: 48
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:112) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:291) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.postgresql.util.PSQLException: ОШИБКА: столбец "1" не существует
  Позиция: 48
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2440) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2183) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:308) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:441) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:365) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:307) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:293) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:270) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:266) ~[postgresql-42.2.5.jar:42.2.5]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 29 common frames omitted

2019-04-22 11:39:05.956  INFO 9632 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 11:39:05.959  WARN 9632 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'afterTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7d446ed1] for test method [public void viarzilin.MainControllerTest.mainPageTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@6158113e]

org.springframework.jdbc.datasource.init.CannotReadScriptException: Cannot read SQL script from class path resource [messages-list-after.sql]; nested exception is java.io.FileNotFoundException: class path resource [messages-list-after.sql] cannot be opened because it does not exist
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:453) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.afterTestMethod(SqlScriptsTestExecutionListener.java:121) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:443) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:94) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: java.io.FileNotFoundException: class path resource [messages-list-after.sql] cannot be opened because it does not exist
	at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:180) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.core.io.support.EncodedResource.getReader(EncodedResource.java:146) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.readScript(ScriptUtils.java:282) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:450) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 28 common frames omitted

2019-04-22 11:39:06.200  INFO 9632 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 11:39:06.252  WARN 9632 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7d446ed1] for test method [public void viarzilin.MainControllerTest.messageListTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@659e003e]

org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [create-user-before.sql]: insert into user_role (user_id, roles) values ("1", "USER"), ("1", "ADMIN"), ("2", "USER"); nested exception is org.postgresql.util.PSQLException: ОШИБКА: столбец "1" не существует
  Позиция: 48
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:112) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:291) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.postgresql.util.PSQLException: ОШИБКА: столбец "1" не существует
  Позиция: 48
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2440) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2183) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:308) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:441) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:365) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:307) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:293) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:270) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:266) ~[postgresql-42.2.5.jar:42.2.5]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 29 common frames omitted

2019-04-22 11:39:06.290  INFO 9632 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 11:39:06.297  WARN 9632 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'afterTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7d446ed1] for test method [public void viarzilin.MainControllerTest.messageListTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@659e003e]

org.springframework.jdbc.datasource.init.CannotReadScriptException: Cannot read SQL script from class path resource [messages-list-after.sql]; nested exception is java.io.FileNotFoundException: class path resource [messages-list-after.sql] cannot be opened because it does not exist
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:453) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.afterTestMethod(SqlScriptsTestExecutionListener.java:121) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:443) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:94) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: java.io.FileNotFoundException: class path resource [messages-list-after.sql] cannot be opened because it does not exist
	at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:180) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.core.io.support.EncodedResource.getReader(EncodedResource.java:146) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.readScript(ScriptUtils.java:282) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:450) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 28 common frames omitted

2019-04-22 11:39:06.405  INFO 9632 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@482d776b: startup date [Mon Apr 22 11:38:21 MSK 2019]; root of context hierarchy
2019-04-22 11:39:06.436  INFO 9632 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 11:39:06.437  INFO 9632 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-04-22 11:39:06.477  INFO 9632 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-04-22 11:47:39.940  INFO 3736 --- [main] viarzilin.MainControllerTest             : Starting MainControllerTest on DESKTOP-6NMKCEI with PID 3736 (started by Mikalai Viarzilin in G:\programs\sweater)
2019-04-22 11:47:39.970  INFO 3736 --- [main] viarzilin.MainControllerTest             : No active profile set, falling back to default profiles: default
2019-04-22 11:47:40.173  INFO 3736 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@186978a6: startup date [Mon Apr 22 11:47:40 MSK 2019]; root of context hierarchy
2019-04-22 11:47:57.957  INFO 3736 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$96e62e67] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:47:58.230  INFO 3736 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$2f93f6a1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:47:58.342  INFO 3736 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:47:58.352  INFO 3736 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7c781c42' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:47:58.403  INFO 3736 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$54689953] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:47:58.543  INFO 3736 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:48:00.064  INFO 3736 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway Community Edition 5.0.7 by Boxfuse
2019-04-22 11:48:00.095  INFO 3736 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-04-22 11:48:01.066  INFO 3736 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-04-22 11:48:01.085  INFO 3736 --- [main] o.f.c.internal.database.DatabaseFactory  : Database: jdbc:postgresql://localhost:5433/sweatertest (PostgreSQL 11.2)
2019-04-22 11:48:01.522  WARN 3736 --- [main] o.f.core.internal.database.Database      : Flyway upgrade recommended: PostgreSQL 11.2 is newer than this version of Flyway and support has not been tested.
2019-04-22 11:48:02.848  INFO 3736 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.849s)
2019-04-22 11:48:02.939  INFO 3736 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 4
2019-04-22 11:48:02.947  INFO 3736 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2019-04-22 11:48:04.906  INFO 3736 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2019-04-22 11:48:05.048  INFO 3736 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-22 11:48:05.756  INFO 3736 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
2019-04-22 11:48:05.758  INFO 3736 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-04-22 11:48:06.386  INFO 3736 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2019-04-22 11:48:07.662  INFO 3736 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-04-22 11:48:10.669  INFO 3736 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-04-22 11:48:10.727  INFO 3736 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@727986ad
2019-04-22 11:48:16.974  INFO 3736 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 11:48:24.801  INFO 3736 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e64ae1a, org.springframework.security.web.context.SecurityContextPersistenceFilter@757c685d, org.springframework.security.web.header.HeaderWriterFilter@e3692ca, org.springframework.security.web.csrf.CsrfFilter@26be0d23, org.springframework.security.web.authentication.logout.LogoutFilter@189e96af, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@31c56721, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34626d4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@26291192, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@687f62a5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6eadd342, org.springframework.security.web.session.SessionManagementFilter@5cfe28e1, org.springframework.security.web.access.ExceptionTranslationFilter@2ae7c1d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3faa55]
2019-04-22 11:48:27.031  INFO 3736 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:48:29.231  INFO 3736 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@186978a6: startup date [Mon Apr 22 11:47:40 MSK 2019]; root of context hierarchy
2019-04-22 11:48:29.849  WARN 3736 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-22 11:48:30.194  INFO 3736 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.main(java.lang.String,org.springframework.ui.Model)
2019-04-22 11:48:30.204  INFO 3736 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[POST]}" onto public java.lang.String viarzilin.controller.MainController.add(viarzilin.domain.User,viarzilin.domain.Message,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 11:48:30.204  INFO 3736 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.greeting(java.util.Map<java.lang.String, java.lang.Object>)
2019-04-22 11:48:30.295  INFO 3736 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.MessageEditorController.userMessages(viarzilin.domain.User,viarzilin.domain.User,org.springframework.ui.Model,viarzilin.domain.Message)
2019-04-22 11:48:30.295  INFO 3736 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[POST]}" onto public java.lang.String viarzilin.controller.MessageEditorController.updateMessage(viarzilin.domain.User,java.lang.Long,viarzilin.domain.Message,java.lang.String,java.lang.String,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 11:48:30.316  INFO 3736 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/activate/{code}],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.activate(org.springframework.ui.Model,java.lang.String)
2019-04-22 11:48:30.316  INFO 3736 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.registration()
2019-04-22 11:48:30.334  INFO 3736 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[POST]}" onto public java.lang.String viarzilin.controller.RegistrationController.addUser(java.lang.String,java.lang.String,viarzilin.domain.User,org.springframework.validation.BindingResult,org.springframework.ui.Model)
2019-04-22 11:48:30.346  INFO 3736 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{type}/{user}/list],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model,viarzilin.domain.User,java.lang.String)
2019-04-22 11:48:30.354  INFO 3736 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model)
2019-04-22 11:48:30.354  INFO 3736 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.userSave(java.lang.String,java.util.Map<java.lang.String, java.lang.String>,viarzilin.domain.User)
2019-04-22 11:48:30.356  INFO 3736 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.getProfile(org.springframework.ui.Model,viarzilin.domain.User)
2019-04-22 11:48:30.356  INFO 3736 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/subscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.subscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 11:48:30.356  INFO 3736 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/unsubscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.unsubscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 11:48:30.356  INFO 3736 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userEditForm(viarzilin.domain.User,org.springframework.ui.Model)
2019-04-22 11:48:30.356  INFO 3736 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.updateProfile(viarzilin.domain.User,java.lang.String,java.lang.String)
2019-04-22 11:48:30.366  INFO 3736 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-04-22 11:48:30.374  INFO 3736 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-04-22 11:48:30.496  INFO 3736 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/login] onto handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2019-04-22 11:48:30.922  INFO 3736 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:48:30.924  INFO 3736 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:48:30.924  INFO 3736 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/img/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:48:30.924  INFO 3736 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/static/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:48:32.819  INFO 3736 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-04-22 11:48:33.497  INFO 3736 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql]
2019-04-22 11:48:33.679  INFO 3736 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql] in 172 ms.
2019-04-22 11:48:34.479  INFO 3736 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2019-04-22 11:48:34.479  INFO 3736 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2019-04-22 11:48:34.550  INFO 3736 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 71 ms
2019-04-22 11:48:34.813  INFO 3736 --- [main] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-04-22 11:48:34.925  INFO 3736 --- [main] viarzilin.MainControllerTest             : Started MainControllerTest in 58.836 seconds (JVM running for 76.891)
2019-04-22 11:48:35.137  INFO 3736 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 11:48:35.742  WARN 3736 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7d446ed1] for test method [public void viarzilin.MainControllerTest.mainPageTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@60256d1b]

org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #2 of class path resource [create-user-before.sql]: delete from user; nested exception is org.postgresql.util.PSQLException: ОШИБКА: ошибка синтаксиса (примерное положение: "user")
  Позиция: 13
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:112) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:291) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.postgresql.util.PSQLException: ОШИБКА: ошибка синтаксиса (примерное положение: "user")
  Позиция: 13
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2440) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2183) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:308) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:441) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:365) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:307) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:293) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:270) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:266) ~[postgresql-42.2.5.jar:42.2.5]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 29 common frames omitted

2019-04-22 11:48:38.894  INFO 3736 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 11:48:38.904  WARN 3736 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'afterTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7d446ed1] for test method [public void viarzilin.MainControllerTest.mainPageTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@60256d1b]

org.springframework.jdbc.datasource.init.CannotReadScriptException: Cannot read SQL script from class path resource [messages-list-after.sql]; nested exception is java.io.FileNotFoundException: class path resource [messages-list-after.sql] cannot be opened because it does not exist
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:453) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.afterTestMethod(SqlScriptsTestExecutionListener.java:121) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:443) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:94) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: java.io.FileNotFoundException: class path resource [messages-list-after.sql] cannot be opened because it does not exist
	at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:180) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.core.io.support.EncodedResource.getReader(EncodedResource.java:146) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.readScript(ScriptUtils.java:282) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:450) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 28 common frames omitted

2019-04-22 11:48:43.830  INFO 3736 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 11:48:43.838  WARN 3736 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7d446ed1] for test method [public void viarzilin.MainControllerTest.messageListTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@5b6ec94a]

org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #2 of class path resource [create-user-before.sql]: delete from user; nested exception is org.postgresql.util.PSQLException: ОШИБКА: ошибка синтаксиса (примерное положение: "user")
  Позиция: 13
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:112) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:291) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.postgresql.util.PSQLException: ОШИБКА: ошибка синтаксиса (примерное положение: "user")
  Позиция: 13
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2440) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2183) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:308) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:441) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:365) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:307) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:293) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:270) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:266) ~[postgresql-42.2.5.jar:42.2.5]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 29 common frames omitted

2019-04-22 11:48:44.030  INFO 3736 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 11:48:44.032  WARN 3736 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'afterTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7d446ed1] for test method [public void viarzilin.MainControllerTest.messageListTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@5b6ec94a]

org.springframework.jdbc.datasource.init.CannotReadScriptException: Cannot read SQL script from class path resource [messages-list-after.sql]; nested exception is java.io.FileNotFoundException: class path resource [messages-list-after.sql] cannot be opened because it does not exist
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:453) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.afterTestMethod(SqlScriptsTestExecutionListener.java:121) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:443) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:94) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: java.io.FileNotFoundException: class path resource [messages-list-after.sql] cannot be opened because it does not exist
	at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:180) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.core.io.support.EncodedResource.getReader(EncodedResource.java:146) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.readScript(ScriptUtils.java:282) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:450) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 28 common frames omitted

2019-04-22 11:48:44.174  INFO 3736 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@186978a6: startup date [Mon Apr 22 11:47:40 MSK 2019]; root of context hierarchy
2019-04-22 11:48:44.194  INFO 3736 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 11:48:44.202  INFO 3736 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-04-22 11:48:44.458  INFO 3736 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-04-22 11:50:19.493  INFO 3484 --- [main] viarzilin.MainControllerTest             : Starting MainControllerTest on DESKTOP-6NMKCEI with PID 3484 (started by Mikalai Viarzilin in G:\programs\sweater)
2019-04-22 11:50:19.511  INFO 3484 --- [main] viarzilin.MainControllerTest             : No active profile set, falling back to default profiles: default
2019-04-22 11:50:19.676  INFO 3484 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@503d56b5: startup date [Mon Apr 22 11:50:19 MSK 2019]; root of context hierarchy
2019-04-22 11:50:29.855  INFO 3484 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3da3f28b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:50:30.106  INFO 3484 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$d651bac5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:50:30.189  INFO 3484 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:50:30.199  INFO 3484 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@1095d23a' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:50:30.230  INFO 3484 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$fb265d77] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:50:30.290  INFO 3484 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:50:31.385  INFO 3484 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway Community Edition 5.0.7 by Boxfuse
2019-04-22 11:50:31.426  INFO 3484 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-04-22 11:50:32.469  INFO 3484 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-04-22 11:50:32.489  INFO 3484 --- [main] o.f.c.internal.database.DatabaseFactory  : Database: jdbc:postgresql://localhost:5433/sweatertest (PostgreSQL 11.2)
2019-04-22 11:50:32.641  WARN 3484 --- [main] o.f.core.internal.database.Database      : Flyway upgrade recommended: PostgreSQL 11.2 is newer than this version of Flyway and support has not been tested.
2019-04-22 11:50:33.469  INFO 3484 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.542s)
2019-04-22 11:50:33.521  INFO 3484 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 4
2019-04-22 11:50:33.521  INFO 3484 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2019-04-22 11:50:34.940  INFO 3484 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2019-04-22 11:50:35.082  INFO 3484 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-22 11:50:35.498  INFO 3484 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
2019-04-22 11:50:35.508  INFO 3484 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-04-22 11:50:35.771  INFO 3484 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2019-04-22 11:50:37.187  INFO 3484 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-04-22 11:50:39.184  INFO 3484 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-04-22 11:50:39.194  INFO 3484 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@a357c3e
2019-04-22 11:50:44.410  INFO 3484 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 11:50:50.804  INFO 3484 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4440750, org.springframework.security.web.context.SecurityContextPersistenceFilter@1477d4e6, org.springframework.security.web.header.HeaderWriterFilter@4b552b13, org.springframework.security.web.csrf.CsrfFilter@1018f702, org.springframework.security.web.authentication.logout.LogoutFilter@1885905b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@684430c1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@583b4af4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1db9c2cf, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@747f0f34, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@63d9e1a, org.springframework.security.web.session.SessionManagementFilter@5ca3acad, org.springframework.security.web.access.ExceptionTranslationFilter@b5bddfe, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2b30b627]
2019-04-22 11:50:53.205  INFO 3484 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:50:54.665  INFO 3484 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@503d56b5: startup date [Mon Apr 22 11:50:19 MSK 2019]; root of context hierarchy
2019-04-22 11:50:54.989  WARN 3484 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-22 11:50:55.182  INFO 3484 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.main(java.lang.String,org.springframework.ui.Model)
2019-04-22 11:50:55.182  INFO 3484 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[POST]}" onto public java.lang.String viarzilin.controller.MainController.add(viarzilin.domain.User,viarzilin.domain.Message,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 11:50:55.182  INFO 3484 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.greeting(java.util.Map<java.lang.String, java.lang.Object>)
2019-04-22 11:50:55.182  INFO 3484 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[POST]}" onto public java.lang.String viarzilin.controller.MessageEditorController.updateMessage(viarzilin.domain.User,java.lang.Long,viarzilin.domain.Message,java.lang.String,java.lang.String,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 11:50:55.202  INFO 3484 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.MessageEditorController.userMessages(viarzilin.domain.User,viarzilin.domain.User,org.springframework.ui.Model,viarzilin.domain.Message)
2019-04-22 11:50:55.202  INFO 3484 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.registration()
2019-04-22 11:50:55.212  INFO 3484 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/activate/{code}],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.activate(org.springframework.ui.Model,java.lang.String)
2019-04-22 11:50:55.212  INFO 3484 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[POST]}" onto public java.lang.String viarzilin.controller.RegistrationController.addUser(java.lang.String,java.lang.String,viarzilin.domain.User,org.springframework.validation.BindingResult,org.springframework.ui.Model)
2019-04-22 11:50:55.233  INFO 3484 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{type}/{user}/list],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model,viarzilin.domain.User,java.lang.String)
2019-04-22 11:50:55.233  INFO 3484 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model)
2019-04-22 11:50:55.241  INFO 3484 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.updateProfile(viarzilin.domain.User,java.lang.String,java.lang.String)
2019-04-22 11:50:58.877  INFO 3484 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.userSave(java.lang.String,java.util.Map<java.lang.String, java.lang.String>,viarzilin.domain.User)
2019-04-22 11:50:58.877  INFO 3484 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/unsubscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.unsubscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 11:50:58.885  INFO 3484 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.getProfile(org.springframework.ui.Model,viarzilin.domain.User)
2019-04-22 11:50:58.887  INFO 3484 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userEditForm(viarzilin.domain.User,org.springframework.ui.Model)
2019-04-22 11:50:58.887  INFO 3484 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/subscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.subscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 11:50:58.905  INFO 3484 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-04-22 11:50:58.905  INFO 3484 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-04-22 11:50:59.019  INFO 3484 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/login] onto handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2019-04-22 11:50:59.343  INFO 3484 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:50:59.343  INFO 3484 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:50:59.343  INFO 3484 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/img/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:50:59.351  INFO 3484 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/static/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:51:02.108  INFO 3484 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-04-22 11:51:03.682  INFO 3484 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql]
2019-04-22 11:51:03.973  INFO 3484 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql] in 281 ms.
2019-04-22 11:51:04.918  INFO 3484 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2019-04-22 11:51:04.918  INFO 3484 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2019-04-22 11:51:05.008  INFO 3484 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 90 ms
2019-04-22 11:51:05.220  INFO 3484 --- [main] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-04-22 11:51:05.382  INFO 3484 --- [main] viarzilin.MainControllerTest             : Started MainControllerTest in 49.196 seconds (JVM running for 104.892)
2019-04-22 11:51:05.557  INFO 3484 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 11:51:06.204  INFO 3484 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-before.sql] in 647 ms.
2019-04-22 11:51:06.204  INFO 3484 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-before.sql]
2019-04-22 11:51:06.518  INFO 3484 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-before.sql] in 314 ms.
2019-04-22 11:51:06.751  INFO 3484 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-04-22 11:51:07.895  WARN 3484 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@525575] for test method [public void viarzilin.MainControllerTest.mainPageTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@5fb58f15]

java.lang.IllegalStateException: Unable to create SecurityContext using @org.springframework.security.test.context.support.WithUserDetails(value="admin", userDetailsServiceBeanName="", setupBefore=TEST_METHOD)
	at org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener.createTestSecurityContext(WithSecurityContextTestExecutionListener.java:126) ~[spring-security-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener.createTestSecurityContext(WithSecurityContextTestExecutionListener.java:105) ~[spring-security-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener.beforeTestMethod(WithSecurityContextTestExecutionListener.java:65) ~[spring-security-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:291) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.springframework.security.core.userdetails.UsernameNotFoundException: User not found!
	at viarzilin.services.UserService.loadUserByUsername(UserService.java:35) ~[classes/:na]
	at org.springframework.security.test.context.support.WithUserDetailsSecurityContextFactory.createSecurityContext(WithUserDetailsSecurityContextFactory.java:61) ~[spring-security-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.security.test.context.support.WithUserDetailsSecurityContextFactory.createSecurityContext(WithUserDetailsSecurityContextFactory.java:44) ~[spring-security-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener.createTestSecurityContext(WithSecurityContextTestExecutionListener.java:123) ~[spring-security-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 23 common frames omitted

2019-04-22 11:51:11.054  INFO 3484 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 11:51:11.074  WARN 3484 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'afterTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@74bada02] for test method [public void viarzilin.MainControllerTest.mainPageTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@5fb58f15]

org.springframework.jdbc.datasource.init.CannotReadScriptException: Cannot read SQL script from class path resource [messages-list-after.sql]; nested exception is java.io.FileNotFoundException: class path resource [messages-list-after.sql] cannot be opened because it does not exist
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:453) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.afterTestMethod(SqlScriptsTestExecutionListener.java:121) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:443) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:94) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: java.io.FileNotFoundException: class path resource [messages-list-after.sql] cannot be opened because it does not exist
	at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:180) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.core.io.support.EncodedResource.getReader(EncodedResource.java:146) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.readScript(ScriptUtils.java:282) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:450) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 28 common frames omitted

2019-04-22 11:51:11.195  INFO 3484 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 11:51:11.429  WARN 3484 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@74bada02] for test method [public void viarzilin.MainControllerTest.messageListTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@77cd1f67]

org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #2 of class path resource [create-user-before.sql]: delete from users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: UPDATE или DELETE в таблице "users" нарушает ограничение внешнего ключа "message_user_fk" таблицы "message"
  Подробности: На ключ (id)=(1) всё ещё есть ссылки в таблице "message".
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:112) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:291) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.postgresql.util.PSQLException: ОШИБКА: UPDATE или DELETE в таблице "users" нарушает ограничение внешнего ключа "message_user_fk" таблицы "message"
  Подробности: На ключ (id)=(1) всё ещё есть ссылки в таблице "message".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2440) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2183) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:308) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:441) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:365) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:307) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:293) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:270) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:266) ~[postgresql-42.2.5.jar:42.2.5]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 29 common frames omitted

2019-04-22 11:51:11.469  INFO 3484 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 11:51:11.469  WARN 3484 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'afterTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@74bada02] for test method [public void viarzilin.MainControllerTest.messageListTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@77cd1f67]

org.springframework.jdbc.datasource.init.CannotReadScriptException: Cannot read SQL script from class path resource [messages-list-after.sql]; nested exception is java.io.FileNotFoundException: class path resource [messages-list-after.sql] cannot be opened because it does not exist
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:453) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.afterTestMethod(SqlScriptsTestExecutionListener.java:121) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:443) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:94) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: java.io.FileNotFoundException: class path resource [messages-list-after.sql] cannot be opened because it does not exist
	at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:180) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.core.io.support.EncodedResource.getReader(EncodedResource.java:146) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.readScript(ScriptUtils.java:282) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:450) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 28 common frames omitted

2019-04-22 11:51:11.560  INFO 3484 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@503d56b5: startup date [Mon Apr 22 11:50:19 MSK 2019]; root of context hierarchy
2019-04-22 11:51:11.631  INFO 3484 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 11:51:11.640  INFO 3484 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-04-22 11:51:11.682  INFO 3484 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-04-22 11:55:45.254  INFO 10800 --- [main] viarzilin.MainControllerTest             : Starting MainControllerTest on DESKTOP-6NMKCEI with PID 10800 (started by Mikalai Viarzilin in G:\programs\sweater)
2019-04-22 11:55:45.264  INFO 10800 --- [main] viarzilin.MainControllerTest             : No active profile set, falling back to default profiles: default
2019-04-22 11:55:45.406  INFO 10800 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2a7b6f69: startup date [Mon Apr 22 11:55:45 MSK 2019]; root of context hierarchy
2019-04-22 11:55:56.360  INFO 10800 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$5891227a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:55:56.563  INFO 10800 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$f13eeab4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:55:56.624  INFO 10800 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:55:56.644  INFO 10800 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3513c84c' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:55:56.675  INFO 10800 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$16138d66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:55:56.745  INFO 10800 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 11:55:57.719  INFO 10800 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway Community Edition 5.0.7 by Boxfuse
2019-04-22 11:55:57.739  INFO 10800 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-04-22 11:55:58.519  INFO 10800 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-04-22 11:55:58.550  INFO 10800 --- [main] o.f.c.internal.database.DatabaseFactory  : Database: jdbc:postgresql://localhost:5433/sweatertest (PostgreSQL 11.2)
2019-04-22 11:55:58.600  WARN 10800 --- [main] o.f.core.internal.database.Database      : Flyway upgrade recommended: PostgreSQL 11.2 is newer than this version of Flyway and support has not been tested.
2019-04-22 11:55:58.945  INFO 10800 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.180s)
2019-04-22 11:55:58.986  INFO 10800 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 4
2019-04-22 11:55:58.994  INFO 10800 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2019-04-22 11:55:59.878  INFO 10800 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2019-04-22 11:56:00.020  INFO 10800 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-22 11:56:00.679  INFO 10800 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
2019-04-22 11:56:00.739  INFO 10800 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-04-22 11:56:01.044  INFO 10800 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2019-04-22 11:56:02.179  INFO 10800 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-04-22 11:56:03.152  INFO 10800 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-04-22 11:56:03.162  INFO 10800 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@3b5da0b0
2019-04-22 11:56:08.298  INFO 10800 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 11:56:13.623  INFO 10800 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77648321, org.springframework.security.web.context.SecurityContextPersistenceFilter@15c3585, org.springframework.security.web.header.HeaderWriterFilter@270be080, org.springframework.security.web.csrf.CsrfFilter@37b5a51c, org.springframework.security.web.authentication.logout.LogoutFilter@3331800f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4e481512, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4056cdb2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13731ff4, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@31cddb11, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@43201f84, org.springframework.security.web.session.SessionManagementFilter@78f35e39, org.springframework.security.web.access.ExceptionTranslationFilter@69926b6e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@b5bddfe]
2019-04-22 11:56:15.002  INFO 10800 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:56:16.037  INFO 10800 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@2a7b6f69: startup date [Mon Apr 22 11:55:45 MSK 2019]; root of context hierarchy
2019-04-22 11:56:16.251  WARN 10800 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-22 11:56:16.545  INFO 10800 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.main(java.lang.String,org.springframework.ui.Model)
2019-04-22 11:56:16.555  INFO 10800 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[POST]}" onto public java.lang.String viarzilin.controller.MainController.add(viarzilin.domain.User,viarzilin.domain.Message,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 11:56:16.555  INFO 10800 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.greeting(java.util.Map<java.lang.String, java.lang.Object>)
2019-04-22 11:56:16.565  INFO 10800 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[POST]}" onto public java.lang.String viarzilin.controller.MessageEditorController.updateMessage(viarzilin.domain.User,java.lang.Long,viarzilin.domain.Message,java.lang.String,java.lang.String,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 11:56:16.565  INFO 10800 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.MessageEditorController.userMessages(viarzilin.domain.User,viarzilin.domain.User,org.springframework.ui.Model,viarzilin.domain.Message)
2019-04-22 11:56:16.594  INFO 10800 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.registration()
2019-04-22 11:56:16.596  INFO 10800 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/activate/{code}],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.activate(org.springframework.ui.Model,java.lang.String)
2019-04-22 11:56:16.596  INFO 10800 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[POST]}" onto public java.lang.String viarzilin.controller.RegistrationController.addUser(java.lang.String,java.lang.String,viarzilin.domain.User,org.springframework.validation.BindingResult,org.springframework.ui.Model)
2019-04-22 11:56:16.697  INFO 10800 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/subscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.subscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 11:56:16.697  INFO 10800 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/unsubscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.unsubscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 11:56:16.697  INFO 10800 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{type}/{user}/list],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model,viarzilin.domain.User,java.lang.String)
2019-04-22 11:56:16.705  INFO 10800 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model)
2019-04-22 11:56:16.707  INFO 10800 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.updateProfile(viarzilin.domain.User,java.lang.String,java.lang.String)
2019-04-22 11:56:16.707  INFO 10800 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.getProfile(org.springframework.ui.Model,viarzilin.domain.User)
2019-04-22 11:56:16.707  INFO 10800 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userEditForm(viarzilin.domain.User,org.springframework.ui.Model)
2019-04-22 11:56:16.707  INFO 10800 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.userSave(java.lang.String,java.util.Map<java.lang.String, java.lang.String>,viarzilin.domain.User)
2019-04-22 11:56:16.727  INFO 10800 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-04-22 11:56:16.736  INFO 10800 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-04-22 11:56:16.839  INFO 10800 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/login] onto handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2019-04-22 11:56:16.951  INFO 10800 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:56:16.959  INFO 10800 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:56:16.959  INFO 10800 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/img/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:56:16.959  INFO 10800 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/static/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 11:56:18.655  INFO 10800 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-04-22 11:56:19.325  INFO 10800 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql]
2019-04-22 11:56:19.456  INFO 10800 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql] in 123 ms.
2019-04-22 11:56:20.458  INFO 10800 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2019-04-22 11:56:20.460  INFO 10800 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2019-04-22 11:56:20.521  INFO 10800 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 61 ms
2019-04-22 11:56:20.774  INFO 10800 --- [main] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-04-22 11:56:20.866  INFO 10800 --- [main] viarzilin.MainControllerTest             : Started MainControllerTest in 38.897 seconds (JVM running for 53.122)
2019-04-22 11:56:21.097  INFO 10800 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 11:56:21.291  WARN 10800 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@db57326] for test method [public void viarzilin.MainControllerTest.mainPageTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@40612056]

org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #2 of class path resource [create-user-before.sql]: delete from users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: UPDATE или DELETE в таблице "users" нарушает ограничение внешнего ключа "message_user_fk" таблицы "message"
  Подробности: На ключ (id)=(1) всё ещё есть ссылки в таблице "message".
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:112) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:291) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.postgresql.util.PSQLException: ОШИБКА: UPDATE или DELETE в таблице "users" нарушает ограничение внешнего ключа "message_user_fk" таблицы "message"
  Подробности: На ключ (id)=(1) всё ещё есть ссылки в таблице "message".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2440) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2183) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:308) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:441) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:365) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:307) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:293) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:270) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:266) ~[postgresql-42.2.5.jar:42.2.5]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 29 common frames omitted

2019-04-22 11:56:21.849  INFO 10800 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 11:56:21.859  WARN 10800 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'afterTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@db57326] for test method [public void viarzilin.MainControllerTest.mainPageTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@40612056]

org.springframework.jdbc.datasource.init.CannotReadScriptException: Cannot read SQL script from class path resource [messages-list-after.sql]; nested exception is java.io.FileNotFoundException: class path resource [messages-list-after.sql] cannot be opened because it does not exist
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:453) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.afterTestMethod(SqlScriptsTestExecutionListener.java:121) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:443) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:94) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: java.io.FileNotFoundException: class path resource [messages-list-after.sql] cannot be opened because it does not exist
	at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:180) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.core.io.support.EncodedResource.getReader(EncodedResource.java:146) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.readScript(ScriptUtils.java:282) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:450) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 28 common frames omitted

2019-04-22 11:56:21.940  INFO 10800 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 11:56:21.950  WARN 10800 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@db57326] for test method [public void viarzilin.MainControllerTest.messageListTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@712dd0b0]

org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #2 of class path resource [create-user-before.sql]: delete from users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: UPDATE или DELETE в таблице "users" нарушает ограничение внешнего ключа "message_user_fk" таблицы "message"
  Подробности: На ключ (id)=(1) всё ещё есть ссылки в таблице "message".
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:112) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:291) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.postgresql.util.PSQLException: ОШИБКА: UPDATE или DELETE в таблице "users" нарушает ограничение внешнего ключа "message_user_fk" таблицы "message"
  Подробности: На ключ (id)=(1) всё ещё есть ссылки в таблице "message".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2440) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2183) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:308) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:441) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:365) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:307) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:293) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:270) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:266) ~[postgresql-42.2.5.jar:42.2.5]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 29 common frames omitted

2019-04-22 11:56:21.991  INFO 10800 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 11:56:21.999  WARN 10800 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'afterTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@db57326] for test method [public void viarzilin.MainControllerTest.messageListTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@712dd0b0]

org.springframework.jdbc.datasource.init.CannotReadScriptException: Cannot read SQL script from class path resource [messages-list-after.sql]; nested exception is java.io.FileNotFoundException: class path resource [messages-list-after.sql] cannot be opened because it does not exist
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:453) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.afterTestMethod(SqlScriptsTestExecutionListener.java:121) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:443) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:94) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: java.io.FileNotFoundException: class path resource [messages-list-after.sql] cannot be opened because it does not exist
	at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:180) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.core.io.support.EncodedResource.getReader(EncodedResource.java:146) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.readScript(ScriptUtils.java:282) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:450) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 28 common frames omitted

2019-04-22 11:56:22.082  INFO 10800 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@2a7b6f69: startup date [Mon Apr 22 11:55:45 MSK 2019]; root of context hierarchy
2019-04-22 11:56:22.214  INFO 10800 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 11:56:22.224  INFO 10800 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-04-22 11:56:22.295  INFO 10800 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-04-22 12:16:00.428  INFO 13904 --- [main] viarzilin.MainControllerTest             : Starting MainControllerTest on DESKTOP-6NMKCEI with PID 13904 (started by Mikalai Viarzilin in G:\programs\sweater)
2019-04-22 12:16:00.428  INFO 13904 --- [main] viarzilin.MainControllerTest             : No active profile set, falling back to default profiles: default
2019-04-22 12:16:00.834  INFO 13904 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@4052274f: startup date [Mon Apr 22 12:16:00 MSK 2019]; root of context hierarchy
2019-04-22 12:16:18.379  INFO 13904 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$7aff16c1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 12:16:18.625  INFO 13904 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$13acdefb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 12:16:18.683  INFO 13904 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 12:16:18.693  INFO 13904 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3ddeaa5f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 12:16:18.734  INFO 13904 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$388181ad] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 12:16:18.870  INFO 13904 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 12:16:20.150  INFO 13904 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway Community Edition 5.0.7 by Boxfuse
2019-04-22 12:16:20.168  INFO 13904 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-04-22 12:16:21.924  INFO 13904 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-04-22 12:16:21.945  INFO 13904 --- [main] o.f.c.internal.database.DatabaseFactory  : Database: jdbc:postgresql://localhost:5433/sweatertest (PostgreSQL 11.2)
2019-04-22 12:16:22.044  WARN 13904 --- [main] o.f.core.internal.database.Database      : Flyway upgrade recommended: PostgreSQL 11.2 is newer than this version of Flyway and support has not been tested.
2019-04-22 12:16:22.953  INFO 13904 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.567s)
2019-04-22 12:16:22.995  INFO 13904 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 4
2019-04-22 12:16:22.995  INFO 13904 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2019-04-22 12:16:24.103  INFO 13904 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2019-04-22 12:16:24.264  INFO 13904 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-22 12:16:25.185  INFO 13904 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
2019-04-22 12:16:25.225  INFO 13904 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-04-22 12:16:25.576  INFO 13904 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2019-04-22 12:16:26.355  INFO 13904 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-04-22 12:16:27.145  INFO 13904 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-04-22 12:16:27.145  INFO 13904 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@4e4395c
2019-04-22 12:16:32.070  INFO 13904 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 12:16:37.514  INFO 13904 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b54a0a4, org.springframework.security.web.context.SecurityContextPersistenceFilter@40d370fa, org.springframework.security.web.header.HeaderWriterFilter@5535e9, org.springframework.security.web.csrf.CsrfFilter@259aec72, org.springframework.security.web.authentication.logout.LogoutFilter@3bc3d70e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1ab502f6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@476a970c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2914a328, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@4e0802e0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@682d9f21, org.springframework.security.web.session.SessionManagementFilter@e3692ca, org.springframework.security.web.access.ExceptionTranslationFilter@2555a986, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@579ce2e9]
2019-04-22 12:16:39.963  INFO 13904 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 12:16:43.485  INFO 13904 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@4052274f: startup date [Mon Apr 22 12:16:00 MSK 2019]; root of context hierarchy
2019-04-22 12:16:43.835  WARN 13904 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-22 12:16:44.331  INFO 13904 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.greeting(java.util.Map<java.lang.String, java.lang.Object>)
2019-04-22 12:16:44.333  INFO 13904 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.main(java.lang.String,org.springframework.ui.Model)
2019-04-22 12:16:44.335  INFO 13904 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[POST]}" onto public java.lang.String viarzilin.controller.MainController.add(viarzilin.domain.User,viarzilin.domain.Message,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 12:16:44.335  INFO 13904 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[POST]}" onto public java.lang.String viarzilin.controller.MessageEditorController.updateMessage(viarzilin.domain.User,java.lang.Long,viarzilin.domain.Message,java.lang.String,java.lang.String,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 12:16:44.335  INFO 13904 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.MessageEditorController.userMessages(viarzilin.domain.User,viarzilin.domain.User,org.springframework.ui.Model,viarzilin.domain.Message)
2019-04-22 12:16:44.355  INFO 13904 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[POST]}" onto public java.lang.String viarzilin.controller.RegistrationController.addUser(java.lang.String,java.lang.String,viarzilin.domain.User,org.springframework.validation.BindingResult,org.springframework.ui.Model)
2019-04-22 12:16:44.355  INFO 13904 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/activate/{code}],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.activate(org.springframework.ui.Model,java.lang.String)
2019-04-22 12:16:44.362  INFO 13904 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.registration()
2019-04-22 12:16:44.405  INFO 13904 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{type}/{user}/list],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model,viarzilin.domain.User,java.lang.String)
2019-04-22 12:16:44.409  INFO 13904 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model)
2019-04-22 12:16:44.409  INFO 13904 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.userSave(java.lang.String,java.util.Map<java.lang.String, java.lang.String>,viarzilin.domain.User)
2019-04-22 12:16:44.413  INFO 13904 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/subscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.subscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 12:16:50.964  INFO 13904 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userEditForm(viarzilin.domain.User,org.springframework.ui.Model)
2019-04-22 12:16:50.965  INFO 13904 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.updateProfile(viarzilin.domain.User,java.lang.String,java.lang.String)
2019-04-22 12:16:50.965  INFO 13904 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/unsubscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.unsubscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 12:16:50.965  INFO 13904 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.getProfile(org.springframework.ui.Model,viarzilin.domain.User)
2019-04-22 12:16:50.982  INFO 13904 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-04-22 12:16:50.982  INFO 13904 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-04-22 12:16:51.076  INFO 13904 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/login] onto handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2019-04-22 12:16:51.204  INFO 13904 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 12:16:51.204  INFO 13904 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 12:16:51.204  INFO 13904 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/img/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 12:16:51.204  INFO 13904 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/static/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 12:16:54.163  INFO 13904 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-04-22 12:16:54.670  INFO 13904 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql]
2019-04-22 12:16:54.963  INFO 13904 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql] in 293 ms.
2019-04-22 12:16:55.855  INFO 13904 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2019-04-22 12:16:55.855  INFO 13904 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2019-04-22 12:16:55.916  INFO 13904 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 61 ms
2019-04-22 12:16:56.706  INFO 13904 --- [main] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-04-22 12:16:56.787  INFO 13904 --- [main] viarzilin.MainControllerTest             : Started MainControllerTest in 60.016 seconds (JVM running for 82.382)
2019-04-22 12:16:57.031  INFO 13904 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 12:16:57.335  WARN 13904 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@12d2ce03] for test method [public void viarzilin.MainControllerTest.mainPageTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@6158113e]

org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #2 of class path resource [create-user-before.sql]: delete from users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: UPDATE или DELETE в таблице "users" нарушает ограничение внешнего ключа "message_user_fk" таблицы "message"
  Подробности: На ключ (id)=(1) всё ещё есть ссылки в таблице "message".
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:112) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:291) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.postgresql.util.PSQLException: ОШИБКА: UPDATE или DELETE в таблице "users" нарушает ограничение внешнего ключа "message_user_fk" таблицы "message"
  Подробности: На ключ (id)=(1) всё ещё есть ссылки в таблице "message".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2440) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2183) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:308) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:441) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:365) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:307) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:293) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:270) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:266) ~[postgresql-42.2.5.jar:42.2.5]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 29 common frames omitted

2019-04-22 12:17:02.801  INFO 13904 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 12:17:02.801  INFO 13904 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-after.sql] in 0 ms.
2019-04-22 12:17:02.801  INFO 13904 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 12:17:05.071  INFO 6812 --- [main] viarzilin.MainControllerTest             : Starting MainControllerTest on DESKTOP-6NMKCEI with PID 6812 (started by Mikalai Viarzilin in G:\programs\sweater)
2019-04-22 12:17:05.079  INFO 6812 --- [main] viarzilin.MainControllerTest             : No active profile set, falling back to default profiles: default
2019-04-22 12:17:05.241  INFO 6812 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@754777cd: startup date [Mon Apr 22 12:17:05 MSK 2019]; root of context hierarchy
2019-04-22 12:17:02.809  WARN 13904 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'afterTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@12d2ce03] for test method [public void viarzilin.MainControllerTest.mainPageTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@6158113e]

org.springframework.jdbc.datasource.init.CannotReadScriptException: Cannot read SQL script from class path resource [create-user-after.sql]; nested exception is java.io.FileNotFoundException: class path resource [create-user-after.sql] cannot be opened because it does not exist
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:453) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.afterTestMethod(SqlScriptsTestExecutionListener.java:121) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:443) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:94) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: java.io.FileNotFoundException: class path resource [create-user-after.sql] cannot be opened because it does not exist
	at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:180) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.core.io.support.EncodedResource.getReader(EncodedResource.java:146) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.readScript(ScriptUtils.java:282) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:450) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 28 common frames omitted

2019-04-22 12:17:13.658  INFO 13904 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 12:17:13.721  WARN 13904 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@12d2ce03] for test method [public void viarzilin.MainControllerTest.messageListTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@659e003e]

org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #2 of class path resource [create-user-before.sql]: delete from users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: UPDATE или DELETE в таблице "users" нарушает ограничение внешнего ключа "message_user_fk" таблицы "message"
  Подробности: На ключ (id)=(1) всё ещё есть ссылки в таблице "message".
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:112) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:291) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.postgresql.util.PSQLException: ОШИБКА: UPDATE или DELETE в таблице "users" нарушает ограничение внешнего ключа "message_user_fk" таблицы "message"
  Подробности: На ключ (id)=(1) всё ещё есть ссылки в таблице "message".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2440) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2183) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:308) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:441) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:365) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:307) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:293) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:270) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:266) ~[postgresql-42.2.5.jar:42.2.5]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 29 common frames omitted

2019-04-22 12:17:13.741  INFO 13904 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 12:17:13.749  INFO 13904 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-after.sql] in 8 ms.
2019-04-22 12:17:13.749  INFO 13904 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 12:17:13.751  WARN 13904 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'afterTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@12d2ce03] for test method [public void viarzilin.MainControllerTest.messageListTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@659e003e]

org.springframework.jdbc.datasource.init.CannotReadScriptException: Cannot read SQL script from class path resource [create-user-after.sql]; nested exception is java.io.FileNotFoundException: class path resource [create-user-after.sql] cannot be opened because it does not exist
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:453) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.afterTestMethod(SqlScriptsTestExecutionListener.java:121) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:443) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:94) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: java.io.FileNotFoundException: class path resource [create-user-after.sql] cannot be opened because it does not exist
	at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:180) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.core.io.support.EncodedResource.getReader(EncodedResource.java:146) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.readScript(ScriptUtils.java:282) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:450) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 28 common frames omitted

2019-04-22 12:17:14.136  INFO 13904 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@4052274f: startup date [Mon Apr 22 12:16:00 MSK 2019]; root of context hierarchy
2019-04-22 12:17:14.147  INFO 13904 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 12:17:14.157  INFO 13904 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-04-22 12:17:14.613  INFO 13904 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-04-22 12:17:17.289  INFO 6812 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$bc423277] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 12:17:17.512  INFO 6812 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$54effab1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 12:17:17.562  INFO 6812 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 12:17:17.573  INFO 6812 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@726934e2' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 12:17:17.623  INFO 6812 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$79c49d63] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 12:17:17.684  INFO 6812 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 12:17:18.586  INFO 6812 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway Community Edition 5.0.7 by Boxfuse
2019-04-22 12:17:18.606  INFO 6812 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-04-22 12:17:19.618  INFO 6812 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-04-22 12:17:19.637  INFO 6812 --- [main] o.f.c.internal.database.DatabaseFactory  : Database: jdbc:postgresql://localhost:5433/sweatertest (PostgreSQL 11.2)
2019-04-22 12:17:19.669  WARN 6812 --- [main] o.f.core.internal.database.Database      : Flyway upgrade recommended: PostgreSQL 11.2 is newer than this version of Flyway and support has not been tested.
2019-04-22 12:17:19.851  INFO 6812 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.122s)
2019-04-22 12:17:19.902  INFO 6812 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 4
2019-04-22 12:17:19.902  INFO 6812 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2019-04-22 12:17:21.301  INFO 6812 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2019-04-22 12:17:21.572  INFO 6812 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-22 12:17:22.555  INFO 6812 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
2019-04-22 12:17:22.563  INFO 6812 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-04-22 12:17:22.882  INFO 6812 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2019-04-22 12:17:23.634  INFO 6812 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-04-22 12:17:24.265  INFO 6812 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-04-22 12:17:24.273  INFO 6812 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@bd4ee01
2019-04-22 12:17:29.312  INFO 6812 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 12:17:34.265  INFO 6812 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4a3383dc, org.springframework.security.web.context.SecurityContextPersistenceFilter@337eeceb, org.springframework.security.web.header.HeaderWriterFilter@5598dff2, org.springframework.security.web.csrf.CsrfFilter@22ee1ad7, org.springframework.security.web.authentication.logout.LogoutFilter@77925f76, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7ffe8a82, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5392aa2b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4271b748, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@31b67d61, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@72ce8a9b, org.springframework.security.web.session.SessionManagementFilter@57bfca3a, org.springframework.security.web.access.ExceptionTranslationFilter@4902c584, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@64eb14da]
2019-04-22 12:17:35.898  INFO 6812 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 12:17:37.182  INFO 6812 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@754777cd: startup date [Mon Apr 22 12:17:05 MSK 2019]; root of context hierarchy
2019-04-22 12:17:37.450  WARN 6812 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-22 12:17:37.704  INFO 6812 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.main(java.lang.String,org.springframework.ui.Model)
2019-04-22 12:17:37.708  INFO 6812 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[POST]}" onto public java.lang.String viarzilin.controller.MainController.add(viarzilin.domain.User,viarzilin.domain.Message,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 12:17:37.708  INFO 6812 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.greeting(java.util.Map<java.lang.String, java.lang.Object>)
2019-04-22 12:17:37.712  INFO 6812 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.MessageEditorController.userMessages(viarzilin.domain.User,viarzilin.domain.User,org.springframework.ui.Model,viarzilin.domain.Message)
2019-04-22 12:17:37.722  INFO 6812 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[POST]}" onto public java.lang.String viarzilin.controller.MessageEditorController.updateMessage(viarzilin.domain.User,java.lang.Long,viarzilin.domain.Message,java.lang.String,java.lang.String,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 12:17:37.734  INFO 6812 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.registration()
2019-04-22 12:17:37.734  INFO 6812 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/activate/{code}],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.activate(org.springframework.ui.Model,java.lang.String)
2019-04-22 12:17:41.835  INFO 6812 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[POST]}" onto public java.lang.String viarzilin.controller.RegistrationController.addUser(java.lang.String,java.lang.String,viarzilin.domain.User,org.springframework.validation.BindingResult,org.springframework.ui.Model)
2019-04-22 12:17:41.865  INFO 6812 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.updateProfile(viarzilin.domain.User,java.lang.String,java.lang.String)
2019-04-22 12:17:41.865  INFO 6812 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/subscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.subscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 12:17:41.865  INFO 6812 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.getProfile(org.springframework.ui.Model,viarzilin.domain.User)
2019-04-22 12:17:41.881  INFO 6812 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{type}/{user}/list],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model,viarzilin.domain.User,java.lang.String)
2019-04-22 12:17:41.883  INFO 6812 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model)
2019-04-22 12:17:41.885  INFO 6812 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userEditForm(viarzilin.domain.User,org.springframework.ui.Model)
2019-04-22 12:17:41.892  INFO 6812 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.userSave(java.lang.String,java.util.Map<java.lang.String, java.lang.String>,viarzilin.domain.User)
2019-04-22 12:17:41.894  INFO 6812 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/unsubscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.unsubscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 12:17:41.904  INFO 6812 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-04-22 12:17:41.904  INFO 6812 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-04-22 12:17:42.090  INFO 6812 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/login] onto handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2019-04-22 12:17:42.202  INFO 6812 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 12:17:42.204  INFO 6812 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 12:17:42.212  INFO 6812 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/img/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 12:17:42.212  INFO 6812 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/static/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 12:17:43.665  INFO 6812 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-04-22 12:17:44.221  INFO 6812 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql]
2019-04-22 12:17:44.271  INFO 6812 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql] in 40 ms.
2019-04-22 12:17:45.001  INFO 6812 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2019-04-22 12:17:45.001  INFO 6812 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2019-04-22 12:17:45.103  INFO 6812 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 94 ms
2019-04-22 12:17:45.346  INFO 6812 --- [main] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-04-22 12:17:45.447  INFO 6812 --- [main] viarzilin.MainControllerTest             : Started MainControllerTest in 43.639 seconds (JVM running for 108.526)
2019-04-22 12:17:45.650  INFO 6812 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 12:17:45.832  WARN 6812 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@74bada02] for test method [public void viarzilin.MainControllerTest.mainPageTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@2738a1fc]

org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #2 of class path resource [create-user-before.sql]: delete from users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: UPDATE или DELETE в таблице "users" нарушает ограничение внешнего ключа "message_user_fk" таблицы "message"
  Подробности: На ключ (id)=(1) всё ещё есть ссылки в таблице "message".
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:112) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:291) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.postgresql.util.PSQLException: ОШИБКА: UPDATE или DELETE в таблице "users" нарушает ограничение внешнего ключа "message_user_fk" таблицы "message"
  Подробности: На ключ (id)=(1) всё ещё есть ссылки в таблице "message".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2440) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2183) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:308) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:441) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:365) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:307) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:293) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:270) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:266) ~[postgresql-42.2.5.jar:42.2.5]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 29 common frames omitted

2019-04-22 12:17:47.199  INFO 6812 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 12:17:47.207  INFO 6812 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-after.sql] in 8 ms.
2019-04-22 12:17:47.209  INFO 6812 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 12:17:47.209  WARN 6812 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'afterTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@74bada02] for test method [public void viarzilin.MainControllerTest.mainPageTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@2738a1fc]

org.springframework.jdbc.datasource.init.CannotReadScriptException: Cannot read SQL script from class path resource [create-user-after.sql]; nested exception is java.io.FileNotFoundException: class path resource [create-user-after.sql] cannot be opened because it does not exist
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:453) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.afterTestMethod(SqlScriptsTestExecutionListener.java:121) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:443) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:94) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: java.io.FileNotFoundException: class path resource [create-user-after.sql] cannot be opened because it does not exist
	at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:180) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.core.io.support.EncodedResource.getReader(EncodedResource.java:146) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.readScript(ScriptUtils.java:282) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:450) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 28 common frames omitted

2019-04-22 12:17:52.827  INFO 6812 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 12:17:52.876  WARN 6812 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@74bada02] for test method [public void viarzilin.MainControllerTest.messageListTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@2e17a9e6]

org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #2 of class path resource [create-user-before.sql]: delete from users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: UPDATE или DELETE в таблице "users" нарушает ограничение внешнего ключа "message_user_fk" таблицы "message"
  Подробности: На ключ (id)=(1) всё ещё есть ссылки в таблице "message".
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:112) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:291) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.postgresql.util.PSQLException: ОШИБКА: UPDATE или DELETE в таблице "users" нарушает ограничение внешнего ключа "message_user_fk" таблицы "message"
  Подробности: На ключ (id)=(1) всё ещё есть ссылки в таблице "message".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2440) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2183) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:308) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:441) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:365) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:307) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:293) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:270) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:266) ~[postgresql-42.2.5.jar:42.2.5]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 29 common frames omitted

2019-04-22 12:17:52.907  INFO 6812 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 12:17:52.909  INFO 6812 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-after.sql] in 2 ms.
2019-04-22 12:17:52.909  INFO 6812 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 12:17:52.909  WARN 6812 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'afterTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@74bada02] for test method [public void viarzilin.MainControllerTest.messageListTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@2e17a9e6]

org.springframework.jdbc.datasource.init.CannotReadScriptException: Cannot read SQL script from class path resource [create-user-after.sql]; nested exception is java.io.FileNotFoundException: class path resource [create-user-after.sql] cannot be opened because it does not exist
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:453) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.afterTestMethod(SqlScriptsTestExecutionListener.java:121) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:443) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:94) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: java.io.FileNotFoundException: class path resource [create-user-after.sql] cannot be opened because it does not exist
	at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:180) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.core.io.support.EncodedResource.getReader(EncodedResource.java:146) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.readScript(ScriptUtils.java:282) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:450) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 28 common frames omitted

2019-04-22 12:17:52.959  INFO 6812 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@754777cd: startup date [Mon Apr 22 12:17:05 MSK 2019]; root of context hierarchy
2019-04-22 12:17:53.244  INFO 6812 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 12:17:53.244  INFO 6812 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-04-22 12:17:53.314  INFO 6812 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-04-22 12:22:30.331  INFO 11068 --- [main] viarzilin.MainControllerTest             : Starting MainControllerTest on DESKTOP-6NMKCEI with PID 11068 (started by Mikalai Viarzilin in G:\programs\sweater)
2019-04-22 12:22:30.390  INFO 11068 --- [main] viarzilin.MainControllerTest             : No active profile set, falling back to default profiles: default
2019-04-22 12:22:30.585  INFO 11068 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@5003041b: startup date [Mon Apr 22 12:22:30 MSK 2019]; root of context hierarchy
2019-04-22 12:22:40.094  INFO 11068 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$aa1506af] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 12:22:40.307  INFO 11068 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$42c2cee9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 12:22:40.368  INFO 11068 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 12:22:40.386  INFO 11068 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@723877dd' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 12:22:40.439  INFO 11068 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$6797719b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 12:22:40.490  INFO 11068 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 12:22:41.392  INFO 11068 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway Community Edition 5.0.7 by Boxfuse
2019-04-22 12:22:41.423  INFO 11068 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-04-22 12:22:42.030  INFO 11068 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-04-22 12:22:42.059  INFO 11068 --- [main] o.f.c.internal.database.DatabaseFactory  : Database: jdbc:postgresql://localhost:5433/sweatertest (PostgreSQL 11.2)
2019-04-22 12:22:42.101  WARN 11068 --- [main] o.f.core.internal.database.Database      : Flyway upgrade recommended: PostgreSQL 11.2 is newer than this version of Flyway and support has not been tested.
2019-04-22 12:22:42.598  INFO 11068 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.281s)
2019-04-22 12:22:42.648  INFO 11068 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 4
2019-04-22 12:22:42.648  INFO 11068 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2019-04-22 12:22:43.531  INFO 11068 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2019-04-22 12:22:43.683  INFO 11068 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-22 12:22:44.410  INFO 11068 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
2019-04-22 12:22:44.412  INFO 11068 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-04-22 12:22:44.635  INFO 11068 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2019-04-22 12:22:45.343  INFO 11068 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-04-22 12:22:46.085  INFO 11068 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-04-22 12:22:46.085  INFO 11068 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@6b126187
2019-04-22 12:22:50.796  INFO 11068 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 12:22:55.257  INFO 11068 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4cd6f08b, org.springframework.security.web.context.SecurityContextPersistenceFilter@51efdb72, org.springframework.security.web.header.HeaderWriterFilter@281963c, org.springframework.security.web.csrf.CsrfFilter@634d3439, org.springframework.security.web.authentication.logout.LogoutFilter@32121140, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@65d2d3cc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@76cbee13, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@55d8f6bb, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@263e512e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@78b2d29e, org.springframework.security.web.session.SessionManagementFilter@18fa5af6, org.springframework.security.web.access.ExceptionTranslationFilter@5dff108c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2a7392a3]
2019-04-22 12:22:56.879  INFO 11068 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 12:22:59.028  INFO 11068 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@5003041b: startup date [Mon Apr 22 12:22:30 MSK 2019]; root of context hierarchy
2019-04-22 12:22:59.221  WARN 11068 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-22 12:22:59.431  INFO 11068 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.main(java.lang.String,org.springframework.ui.Model)
2019-04-22 12:22:59.433  INFO 11068 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[POST]}" onto public java.lang.String viarzilin.controller.MainController.add(viarzilin.domain.User,viarzilin.domain.Message,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 12:22:59.441  INFO 11068 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.greeting(java.util.Map<java.lang.String, java.lang.Object>)
2019-04-22 12:22:59.444  INFO 11068 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[POST]}" onto public java.lang.String viarzilin.controller.MessageEditorController.updateMessage(viarzilin.domain.User,java.lang.Long,viarzilin.domain.Message,java.lang.String,java.lang.String,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 12:22:59.452  INFO 11068 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.MessageEditorController.userMessages(viarzilin.domain.User,viarzilin.domain.User,org.springframework.ui.Model,viarzilin.domain.Message)
2019-04-22 12:22:59.494  INFO 11068 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[POST]}" onto public java.lang.String viarzilin.controller.RegistrationController.addUser(java.lang.String,java.lang.String,viarzilin.domain.User,org.springframework.validation.BindingResult,org.springframework.ui.Model)
2019-04-22 12:22:59.494  INFO 11068 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.registration()
2019-04-22 12:22:59.504  INFO 11068 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/activate/{code}],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.activate(org.springframework.ui.Model,java.lang.String)
2019-04-22 12:22:59.522  INFO 11068 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userEditForm(viarzilin.domain.User,org.springframework.ui.Model)
2019-04-22 12:22:59.525  INFO 11068 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.userSave(java.lang.String,java.util.Map<java.lang.String, java.lang.String>,viarzilin.domain.User)
2019-04-22 12:22:59.525  INFO 11068 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{type}/{user}/list],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model,viarzilin.domain.User,java.lang.String)
2019-04-22 12:22:59.525  INFO 11068 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model)
2019-04-22 12:22:59.525  INFO 11068 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.getProfile(org.springframework.ui.Model,viarzilin.domain.User)
2019-04-22 12:22:59.525  INFO 11068 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/subscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.subscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 12:22:59.533  INFO 11068 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.updateProfile(viarzilin.domain.User,java.lang.String,java.lang.String)
2019-04-22 12:22:59.533  INFO 11068 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/unsubscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.unsubscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 12:22:59.535  INFO 11068 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-04-22 12:22:59.543  INFO 11068 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-04-22 12:22:59.614  INFO 11068 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/login] onto handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2019-04-22 12:22:59.717  INFO 11068 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 12:22:59.717  INFO 11068 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 12:22:59.727  INFO 11068 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/img/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 12:22:59.727  INFO 11068 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/static/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 12:23:01.177  INFO 11068 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-04-22 12:23:01.765  INFO 11068 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql]
2019-04-22 12:23:01.805  INFO 11068 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql] in 30 ms.
2019-04-22 12:23:02.495  INFO 11068 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2019-04-22 12:23:02.495  INFO 11068 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2019-04-22 12:23:02.554  INFO 11068 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 49 ms
2019-04-22 12:23:02.789  INFO 11068 --- [main] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-04-22 12:23:02.858  INFO 11068 --- [main] viarzilin.MainControllerTest             : Started MainControllerTest in 35.438 seconds (JVM running for 56.408)
2019-04-22 12:23:03.084  INFO 11068 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-before.sql]
2019-04-22 12:23:03.185  INFO 11068 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-before.sql] in 81 ms.
2019-04-22 12:23:03.185  INFO 11068 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 12:23:03.600  WARN 11068 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@16414e40] for test method [public void viarzilin.MainControllerTest.mainPageTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@55d776ac]

org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #2 of class path resource [create-user-before.sql]: delete from users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: UPDATE или DELETE в таблице "users" нарушает ограничение внешнего ключа "message_user_fk" таблицы "message"
  Подробности: На ключ (id)=(1) всё ещё есть ссылки в таблице "message".
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:112) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:291) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.postgresql.util.PSQLException: ОШИБКА: UPDATE или DELETE в таблице "users" нарушает ограничение внешнего ключа "message_user_fk" таблицы "message"
  Подробности: На ключ (id)=(1) всё ещё есть ссылки в таблице "message".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2440) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2183) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:308) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:441) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:365) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:307) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:293) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:270) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:266) ~[postgresql-42.2.5.jar:42.2.5]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 29 common frames omitted

2019-04-22 12:23:04.290  INFO 11068 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 12:23:04.298  INFO 11068 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-after.sql] in 8 ms.
2019-04-22 12:23:04.300  INFO 11068 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 12:23:04.300  WARN 11068 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'afterTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@16414e40] for test method [public void viarzilin.MainControllerTest.mainPageTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@55d776ac]

org.springframework.jdbc.datasource.init.CannotReadScriptException: Cannot read SQL script from class path resource [create-user-after.sql]; nested exception is java.io.FileNotFoundException: class path resource [create-user-after.sql] cannot be opened because it does not exist
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:453) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.afterTestMethod(SqlScriptsTestExecutionListener.java:121) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:443) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:94) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: java.io.FileNotFoundException: class path resource [create-user-after.sql] cannot be opened because it does not exist
	at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:180) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.core.io.support.EncodedResource.getReader(EncodedResource.java:146) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.readScript(ScriptUtils.java:282) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:450) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 28 common frames omitted

2019-04-22 12:23:04.361  INFO 11068 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-before.sql]
2019-04-22 12:23:04.440  INFO 11068 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-before.sql] in 79 ms.
2019-04-22 12:23:04.442  INFO 11068 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 12:23:04.784  WARN 11068 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@16414e40] for test method [public void viarzilin.MainControllerTest.messageListTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@757ad227]

org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #2 of class path resource [create-user-before.sql]: delete from users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: UPDATE или DELETE в таблице "users" нарушает ограничение внешнего ключа "message_user_fk" таблицы "message"
  Подробности: На ключ (id)=(1) всё ещё есть ссылки в таблице "message".
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:112) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:291) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.postgresql.util.PSQLException: ОШИБКА: UPDATE или DELETE в таблице "users" нарушает ограничение внешнего ключа "message_user_fk" таблицы "message"
  Подробности: На ключ (id)=(1) всё ещё есть ссылки в таблице "message".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2440) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2183) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:308) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:441) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:365) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:307) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:293) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:270) ~[postgresql-42.2.5.jar:42.2.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:266) ~[postgresql-42.2.5.jar:42.2.5]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 29 common frames omitted

2019-04-22 12:23:04.796  INFO 11068 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 12:23:04.837  INFO 11068 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-after.sql] in 41 ms.
2019-04-22 12:23:04.837  INFO 11068 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 12:23:04.837  WARN 11068 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'afterTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@16414e40] for test method [public void viarzilin.MainControllerTest.messageListTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@757ad227]

org.springframework.jdbc.datasource.init.CannotReadScriptException: Cannot read SQL script from class path resource [create-user-after.sql]; nested exception is java.io.FileNotFoundException: class path resource [create-user-after.sql] cannot be opened because it does not exist
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:453) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.afterTestMethod(SqlScriptsTestExecutionListener.java:121) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:443) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:94) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: java.io.FileNotFoundException: class path resource [create-user-after.sql] cannot be opened because it does not exist
	at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:180) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.core.io.support.EncodedResource.getReader(EncodedResource.java:146) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.readScript(ScriptUtils.java:282) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:450) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 28 common frames omitted

2019-04-22 12:23:04.989  INFO 11068 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@5003041b: startup date [Mon Apr 22 12:22:30 MSK 2019]; root of context hierarchy
2019-04-22 12:23:05.030  INFO 11068 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 12:23:05.030  INFO 11068 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-04-22 12:23:05.101  INFO 11068 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-04-22 12:25:43.945  INFO 14464 --- [main] viarzilin.MainControllerTest             : Starting MainControllerTest on DESKTOP-6NMKCEI with PID 14464 (started by Mikalai Viarzilin in G:\programs\sweater)
2019-04-22 12:25:43.955  INFO 14464 --- [main] viarzilin.MainControllerTest             : No active profile set, falling back to default profiles: default
2019-04-22 12:25:44.087  INFO 14464 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3d4d3fe7: startup date [Mon Apr 22 12:25:44 MSK 2019]; root of context hierarchy
2019-04-22 12:25:52.651  INFO 14464 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$14a21712] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 12:25:52.854  INFO 14464 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$ad4fdf4c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 12:25:52.925  INFO 14464 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 12:25:52.953  INFO 14464 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@67eec8e1' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 12:25:53.014  INFO 14464 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$d22481fe] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 12:25:53.056  INFO 14464 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 12:25:53.987  INFO 14464 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway Community Edition 5.0.7 by Boxfuse
2019-04-22 12:25:54.009  INFO 14464 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-04-22 12:25:54.658  INFO 14464 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-04-22 12:25:54.696  INFO 14464 --- [main] o.f.c.internal.database.DatabaseFactory  : Database: jdbc:postgresql://localhost:5433/sweatertest (PostgreSQL 11.2)
2019-04-22 12:25:54.729  WARN 14464 --- [main] o.f.core.internal.database.Database      : Flyway upgrade recommended: PostgreSQL 11.2 is newer than this version of Flyway and support has not been tested.
2019-04-22 12:25:55.174  INFO 14464 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.203s)
2019-04-22 12:25:55.223  INFO 14464 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 4
2019-04-22 12:25:55.225  INFO 14464 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2019-04-22 12:25:56.207  INFO 14464 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2019-04-22 12:25:56.349  INFO 14464 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-22 12:25:56.866  INFO 14464 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
2019-04-22 12:25:56.876  INFO 14464 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-04-22 12:25:57.109  INFO 14464 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2019-04-22 12:25:57.666  INFO 14464 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-04-22 12:25:58.274  INFO 14464 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-04-22 12:25:58.282  INFO 14464 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5fde1d64
2019-04-22 12:26:01.436  INFO 14464 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 12:26:05.490  INFO 14464 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@32f45e15, org.springframework.security.web.context.SecurityContextPersistenceFilter@3c5bb37d, org.springframework.security.web.header.HeaderWriterFilter@aca594d, org.springframework.security.web.csrf.CsrfFilter@68fc636a, org.springframework.security.web.authentication.logout.LogoutFilter@752ffce3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@152d2a58, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@180fb796, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@76219fe, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@7f584d0c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4e7151b3, org.springframework.security.web.session.SessionManagementFilter@9715d26, org.springframework.security.web.access.ExceptionTranslationFilter@10ae002e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@31de8099]
2019-04-22 12:26:06.717  INFO 14464 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 12:26:07.730  INFO 14464 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@3d4d3fe7: startup date [Mon Apr 22 12:25:44 MSK 2019]; root of context hierarchy
2019-04-22 12:26:07.923  WARN 14464 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-22 12:26:08.095  INFO 14464 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.main(java.lang.String,org.springframework.ui.Model)
2019-04-22 12:26:08.105  INFO 14464 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[POST]}" onto public java.lang.String viarzilin.controller.MainController.add(viarzilin.domain.User,viarzilin.domain.Message,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 12:26:08.105  INFO 14464 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.greeting(java.util.Map<java.lang.String, java.lang.Object>)
2019-04-22 12:26:08.115  INFO 14464 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[POST]}" onto public java.lang.String viarzilin.controller.MessageEditorController.updateMessage(viarzilin.domain.User,java.lang.Long,viarzilin.domain.Message,java.lang.String,java.lang.String,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 12:26:08.115  INFO 14464 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.MessageEditorController.userMessages(viarzilin.domain.User,viarzilin.domain.User,org.springframework.ui.Model,viarzilin.domain.Message)
2019-04-22 12:26:08.125  INFO 14464 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[POST]}" onto public java.lang.String viarzilin.controller.RegistrationController.addUser(java.lang.String,java.lang.String,viarzilin.domain.User,org.springframework.validation.BindingResult,org.springframework.ui.Model)
2019-04-22 12:26:08.125  INFO 14464 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.registration()
2019-04-22 12:26:08.125  INFO 14464 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/activate/{code}],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.activate(org.springframework.ui.Model,java.lang.String)
2019-04-22 12:26:08.145  INFO 14464 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{type}/{user}/list],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model,viarzilin.domain.User,java.lang.String)
2019-04-22 12:26:08.145  INFO 14464 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model)
2019-04-22 12:26:08.145  INFO 14464 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userEditForm(viarzilin.domain.User,org.springframework.ui.Model)
2019-04-22 12:26:08.145  INFO 14464 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.userSave(java.lang.String,java.util.Map<java.lang.String, java.lang.String>,viarzilin.domain.User)
2019-04-22 12:26:08.156  INFO 14464 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.getProfile(org.springframework.ui.Model,viarzilin.domain.User)
2019-04-22 12:26:08.156  INFO 14464 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.updateProfile(viarzilin.domain.User,java.lang.String,java.lang.String)
2019-04-22 12:26:08.156  INFO 14464 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/subscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.subscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 12:26:08.156  INFO 14464 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/unsubscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.unsubscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 12:26:08.196  INFO 14464 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-04-22 12:26:08.196  INFO 14464 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-04-22 12:26:08.297  INFO 14464 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/login] onto handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2019-04-22 12:26:08.379  INFO 14464 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 12:26:08.379  INFO 14464 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 12:26:08.379  INFO 14464 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/img/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 12:26:08.379  INFO 14464 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/static/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 12:26:09.613  INFO 14464 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-04-22 12:26:10.162  INFO 14464 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql]
2019-04-22 12:26:10.193  INFO 14464 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql] in 23 ms.
2019-04-22 12:26:10.862  INFO 14464 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2019-04-22 12:26:10.862  INFO 14464 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2019-04-22 12:26:10.920  INFO 14464 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 50 ms
2019-04-22 12:26:11.146  INFO 14464 --- [main] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-04-22 12:26:11.196  INFO 14464 --- [main] viarzilin.MainControllerTest             : Started MainControllerTest in 29.501 seconds (JVM running for 36.481)
2019-04-22 12:26:11.348  INFO 14464 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 12:26:11.592  INFO 14464 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-before.sql] in 244 ms.
2019-04-22 12:26:11.600  INFO 14464 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-before.sql]
2019-04-22 12:26:11.612  INFO 14464 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-before.sql] in 12 ms.
2019-04-22 12:26:11.875  INFO 14464 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-04-22 12:26:16.486  INFO 14464 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 12:26:16.486  INFO 14464 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-after.sql] in 0 ms.
2019-04-22 12:26:16.486  INFO 14464 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 12:26:16.506  WARN 14464 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'afterTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@525575] for test method [public void viarzilin.MainControllerTest.mainPageTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@2823bd30]

org.springframework.jdbc.datasource.init.CannotReadScriptException: Cannot read SQL script from class path resource [create-user-after.sql]; nested exception is java.io.FileNotFoundException: class path resource [create-user-after.sql] cannot be opened because it does not exist
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:453) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.afterTestMethod(SqlScriptsTestExecutionListener.java:121) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:443) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:94) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: java.io.FileNotFoundException: class path resource [create-user-after.sql] cannot be opened because it does not exist
	at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:180) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.core.io.support.EncodedResource.getReader(EncodedResource.java:146) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.readScript(ScriptUtils.java:282) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:450) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 28 common frames omitted

2019-04-22 12:26:16.537  INFO 14464 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 12:26:16.547  INFO 14464 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-before.sql] in 10 ms.
2019-04-22 12:26:16.547  INFO 14464 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-before.sql]
2019-04-22 12:26:16.557  INFO 14464 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-before.sql] in 10 ms.
2019-04-22 12:26:16.768  INFO 14464 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 12:26:16.770  INFO 14464 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-after.sql] in 0 ms.
2019-04-22 12:26:16.770  INFO 14464 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 12:26:16.778  WARN 14464 --- [main] o.s.test.context.TestContextManager      : Caught exception while invoking 'afterTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@525575] for test method [public void viarzilin.MainControllerTest.messageListTest() throws java.lang.Exception] and test instance [viarzilin.MainControllerTest@52d625bd]

org.springframework.jdbc.datasource.init.CannotReadScriptException: Cannot read SQL script from class path resource [create-user-after.sql]; nested exception is java.io.FileNotFoundException: class path resource [create-user-after.sql] cannot be opened because it does not exist
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:453) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:255) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$3(SqlScriptsTestExecutionListener.java:229) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:228) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.afterTestMethod(SqlScriptsTestExecutionListener.java:121) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:443) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:94) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: java.io.FileNotFoundException: class path resource [create-user-after.sql] cannot be opened because it does not exist
	at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:180) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.core.io.support.EncodedResource.getReader(EncodedResource.java:146) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.readScript(ScriptUtils.java:282) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:450) ~[spring-jdbc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 28 common frames omitted

2019-04-22 12:26:16.810  INFO 14464 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@3d4d3fe7: startup date [Mon Apr 22 12:25:44 MSK 2019]; root of context hierarchy
2019-04-22 12:26:16.831  INFO 14464 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 12:26:16.861  INFO 14464 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-04-22 12:26:16.973  INFO 14464 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-04-22 12:28:32.348  INFO 12632 --- [main] viarzilin.MainControllerTest             : Starting MainControllerTest on DESKTOP-6NMKCEI with PID 12632 (started by Mikalai Viarzilin in G:\programs\sweater)
2019-04-22 12:28:32.358  INFO 12632 --- [main] viarzilin.MainControllerTest             : No active profile set, falling back to default profiles: default
2019-04-22 12:28:32.520  INFO 12632 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3f19b8b3: startup date [Mon Apr 22 12:28:32 MSK 2019]; root of context hierarchy
2019-04-22 12:28:40.913  INFO 12632 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$aa37f3e0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 12:28:41.103  INFO 12632 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$42e5bc1a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 12:28:41.166  INFO 12632 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 12:28:41.186  INFO 12632 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@2262d6d5' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 12:28:41.215  INFO 12632 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$67ba5ecc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 12:28:41.257  INFO 12632 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 12:28:42.098  INFO 12632 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway Community Edition 5.0.7 by Boxfuse
2019-04-22 12:28:42.118  INFO 12632 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-04-22 12:28:42.665  INFO 12632 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-04-22 12:28:42.695  INFO 12632 --- [main] o.f.c.internal.database.DatabaseFactory  : Database: jdbc:postgresql://localhost:5433/sweatertest (PostgreSQL 11.2)
2019-04-22 12:28:42.734  WARN 12632 --- [main] o.f.core.internal.database.Database      : Flyway upgrade recommended: PostgreSQL 11.2 is newer than this version of Flyway and support has not been tested.
2019-04-22 12:28:42.847  INFO 12632 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.058s)
2019-04-22 12:28:42.898  INFO 12632 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 4
2019-04-22 12:28:42.906  INFO 12632 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2019-04-22 12:28:43.819  INFO 12632 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2019-04-22 12:28:43.920  INFO 12632 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-22 12:28:44.559  INFO 12632 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
2019-04-22 12:28:44.569  INFO 12632 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-04-22 12:28:44.923  INFO 12632 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2019-04-22 12:28:45.591  INFO 12632 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-04-22 12:28:46.188  INFO 12632 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-04-22 12:28:46.199  INFO 12632 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@76af51d6
2019-04-22 12:28:48.908  INFO 12632 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 12:28:53.124  INFO 12632 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5e976553, org.springframework.security.web.context.SecurityContextPersistenceFilter@2a2b3aff, org.springframework.security.web.header.HeaderWriterFilter@2b3d03b2, org.springframework.security.web.csrf.CsrfFilter@237d0625, org.springframework.security.web.authentication.logout.LogoutFilter@716eae1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1fab0394, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@77978658, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4777f71e, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@70e8c019, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c108c05, org.springframework.security.web.session.SessionManagementFilter@332fa6ce, org.springframework.security.web.access.ExceptionTranslationFilter@72a61e61, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@483fe83a]
2019-04-22 12:28:54.359  INFO 12632 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 12:28:55.332  INFO 12632 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@3f19b8b3: startup date [Mon Apr 22 12:28:32 MSK 2019]; root of context hierarchy
2019-04-22 12:28:55.990  WARN 12632 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-22 12:28:56.183  INFO 12632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.greeting(java.util.Map<java.lang.String, java.lang.Object>)
2019-04-22 12:28:56.183  INFO 12632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.main(java.lang.String,org.springframework.ui.Model)
2019-04-22 12:28:56.193  INFO 12632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[POST]}" onto public java.lang.String viarzilin.controller.MainController.add(viarzilin.domain.User,viarzilin.domain.Message,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 12:28:56.193  INFO 12632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.MessageEditorController.userMessages(viarzilin.domain.User,viarzilin.domain.User,org.springframework.ui.Model,viarzilin.domain.Message)
2019-04-22 12:28:56.203  INFO 12632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[POST]}" onto public java.lang.String viarzilin.controller.MessageEditorController.updateMessage(viarzilin.domain.User,java.lang.Long,viarzilin.domain.Message,java.lang.String,java.lang.String,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 12:28:56.213  INFO 12632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.registration()
2019-04-22 12:28:56.213  INFO 12632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[POST]}" onto public java.lang.String viarzilin.controller.RegistrationController.addUser(java.lang.String,java.lang.String,viarzilin.domain.User,org.springframework.validation.BindingResult,org.springframework.ui.Model)
2019-04-22 12:28:56.223  INFO 12632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/activate/{code}],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.activate(org.springframework.ui.Model,java.lang.String)
2019-04-22 12:28:56.233  INFO 12632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/subscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.subscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 12:28:56.241  INFO 12632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.userSave(java.lang.String,java.util.Map<java.lang.String, java.lang.String>,viarzilin.domain.User)
2019-04-22 12:28:56.241  INFO 12632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{type}/{user}/list],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model,viarzilin.domain.User,java.lang.String)
2019-04-22 12:28:56.243  INFO 12632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model)
2019-04-22 12:28:56.243  INFO 12632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userEditForm(viarzilin.domain.User,org.springframework.ui.Model)
2019-04-22 12:28:56.243  INFO 12632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.getProfile(org.springframework.ui.Model,viarzilin.domain.User)
2019-04-22 12:28:56.243  INFO 12632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/unsubscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.unsubscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 12:28:56.243  INFO 12632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.updateProfile(viarzilin.domain.User,java.lang.String,java.lang.String)
2019-04-22 12:28:56.264  INFO 12632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-04-22 12:28:56.274  INFO 12632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-04-22 12:28:56.375  INFO 12632 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/login] onto handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2019-04-22 12:28:56.507  INFO 12632 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 12:28:56.507  INFO 12632 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 12:28:56.507  INFO 12632 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/img/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 12:28:56.507  INFO 12632 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/static/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 12:28:57.843  INFO 12632 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-04-22 12:28:58.378  INFO 12632 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql]
2019-04-22 12:28:58.400  INFO 12632 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql] in 20 ms.
2019-04-22 12:28:59.188  INFO 12632 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2019-04-22 12:28:59.188  INFO 12632 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2019-04-22 12:28:59.241  INFO 12632 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 51 ms
2019-04-22 12:28:59.433  INFO 12632 --- [main] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-04-22 12:28:59.484  INFO 12632 --- [main] viarzilin.MainControllerTest             : Started MainControllerTest in 29.767 seconds (JVM running for 37.187)
2019-04-22 12:28:59.615  INFO 12632 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 12:28:59.636  INFO 12632 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-before.sql] in 21 ms.
2019-04-22 12:28:59.644  INFO 12632 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-before.sql]
2019-04-22 12:28:59.666  INFO 12632 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-before.sql] in 0 ms.
2019-04-22 12:28:59.806  INFO 12632 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-04-22 12:29:02.600  INFO 12632 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 12:29:02.600  INFO 12632 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-after.sql] in 0 ms.
2019-04-22 12:29:02.600  INFO 12632 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 12:29:02.618  INFO 12632 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-after.sql] in 18 ms.
2019-04-22 12:29:02.640  INFO 12632 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 12:29:02.650  INFO 12632 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-before.sql] in 10 ms.
2019-04-22 12:29:02.650  INFO 12632 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-before.sql]
2019-04-22 12:29:02.661  INFO 12632 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-before.sql] in 11 ms.
2019-04-22 12:29:03.045  INFO 12632 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 12:29:03.045  INFO 12632 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-after.sql] in 0 ms.
2019-04-22 12:29:03.045  INFO 12632 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 12:29:03.045  INFO 12632 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-after.sql] in 0 ms.
2019-04-22 12:29:03.157  INFO 12632 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@3f19b8b3: startup date [Mon Apr 22 12:28:32 MSK 2019]; root of context hierarchy
2019-04-22 12:29:03.197  INFO 12632 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 12:29:03.207  INFO 12632 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-04-22 12:29:03.238  INFO 12632 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-04-22 13:37:12.523  INFO 9408 --- [main] viarzilin.MainControllerTest             : Starting MainControllerTest on DESKTOP-6NMKCEI with PID 9408 (started by Mikalai Viarzilin in G:\programs\sweater)
2019-04-22 13:37:12.579  INFO 9408 --- [main] viarzilin.MainControllerTest             : No active profile set, falling back to default profiles: default
2019-04-22 13:37:12.768  INFO 9408 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@4052274f: startup date [Mon Apr 22 13:37:12 MSK 2019]; root of context hierarchy
2019-04-22 13:37:29.136  INFO 9408 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$25cb2d66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 13:37:29.589  INFO 9408 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$be78f5a0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 13:37:29.714  INFO 9408 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 13:37:29.714  INFO 9408 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@1dd74143' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 13:37:29.776  INFO 9408 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$e34d9852] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 13:37:29.917  INFO 9408 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 13:37:33.125  INFO 9408 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway Community Edition 5.0.7 by Boxfuse
2019-04-22 13:37:33.155  INFO 9408 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-04-22 13:37:35.814  INFO 9408 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-04-22 13:37:35.836  INFO 9408 --- [main] o.f.c.internal.database.DatabaseFactory  : Database: jdbc:postgresql://localhost:5433/sweatertest (PostgreSQL 11.2)
2019-04-22 13:37:36.249  WARN 9408 --- [main] o.f.core.internal.database.Database      : Flyway upgrade recommended: PostgreSQL 11.2 is newer than this version of Flyway and support has not been tested.
2019-04-22 13:37:38.320  INFO 9408 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.578s)
2019-04-22 13:37:38.352  INFO 9408 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 4
2019-04-22 13:37:38.367  INFO 9408 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2019-04-22 13:37:39.894  INFO 9408 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2019-04-22 13:37:39.995  INFO 9408 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-22 13:37:41.117  INFO 9408 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
2019-04-22 13:37:41.138  INFO 9408 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-04-22 13:37:42.309  INFO 9408 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2019-04-22 13:37:43.507  INFO 9408 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-04-22 13:37:44.851  INFO 9408 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-04-22 13:37:44.851  INFO 9408 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@b5d9f1e
2019-04-22 13:37:48.771  INFO 9408 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 13:37:54.051  INFO 9408 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1468fc85, org.springframework.security.web.context.SecurityContextPersistenceFilter@26291192, org.springframework.security.web.header.HeaderWriterFilter@62aee901, org.springframework.security.web.csrf.CsrfFilter@b87ea8b, org.springframework.security.web.authentication.logout.LogoutFilter@614361fa, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4e0802e0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@225ac5e7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6074d638, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@632dc41, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@47f39279, org.springframework.security.web.session.SessionManagementFilter@29b4444a, org.springframework.security.web.access.ExceptionTranslationFilter@34626d4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4ca907af]
2019-04-22 13:37:55.426  INFO 9408 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 13:37:56.472  INFO 9408 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@4052274f: startup date [Mon Apr 22 13:37:12 MSK 2019]; root of context hierarchy
2019-04-22 13:37:56.628  WARN 9408 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-22 13:37:56.847  INFO 9408 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.main(java.lang.String,org.springframework.ui.Model)
2019-04-22 13:37:56.847  INFO 9408 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[POST]}" onto public java.lang.String viarzilin.controller.MainController.add(viarzilin.domain.User,viarzilin.domain.Message,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 13:37:56.863  INFO 9408 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.greeting(java.util.Map<java.lang.String, java.lang.Object>)
2019-04-22 13:37:56.863  INFO 9408 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[POST]}" onto public java.lang.String viarzilin.controller.MessageEditorController.updateMessage(viarzilin.domain.User,java.lang.Long,viarzilin.domain.Message,java.lang.String,java.lang.String,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 13:37:56.863  INFO 9408 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.MessageEditorController.userMessages(viarzilin.domain.User,viarzilin.domain.User,org.springframework.ui.Model,viarzilin.domain.Message)
2019-04-22 13:37:56.878  INFO 9408 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.registration()
2019-04-22 13:37:56.878  INFO 9408 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[POST]}" onto public java.lang.String viarzilin.controller.RegistrationController.addUser(java.lang.String,java.lang.String,viarzilin.domain.User,org.springframework.validation.BindingResult,org.springframework.ui.Model)
2019-04-22 13:37:56.878  INFO 9408 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/activate/{code}],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.activate(org.springframework.ui.Model,java.lang.String)
2019-04-22 13:37:56.909  INFO 9408 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/subscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.subscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 13:37:56.909  INFO 9408 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.userSave(java.lang.String,java.util.Map<java.lang.String, java.lang.String>,viarzilin.domain.User)
2019-04-22 13:37:56.909  INFO 9408 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/unsubscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.unsubscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 13:37:56.909  INFO 9408 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.updateProfile(viarzilin.domain.User,java.lang.String,java.lang.String)
2019-04-22 13:37:56.909  INFO 9408 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.getProfile(org.springframework.ui.Model,viarzilin.domain.User)
2019-04-22 13:37:56.925  INFO 9408 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userEditForm(viarzilin.domain.User,org.springframework.ui.Model)
2019-04-22 13:37:56.925  INFO 9408 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{type}/{user}/list],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model,viarzilin.domain.User,java.lang.String)
2019-04-22 13:37:56.925  INFO 9408 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model)
2019-04-22 13:37:56.941  INFO 9408 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-04-22 13:37:56.941  INFO 9408 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-04-22 13:37:57.003  INFO 9408 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/login] onto handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2019-04-22 13:37:57.050  INFO 9408 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 13:37:57.050  INFO 9408 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 13:37:57.050  INFO 9408 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/img/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 13:37:57.050  INFO 9408 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/static/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 13:37:59.065  INFO 9408 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-04-22 13:37:59.846  INFO 9408 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql]
2019-04-22 13:37:59.940  INFO 9408 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql] in 94 ms.
2019-04-22 13:38:00.565  INFO 9408 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2019-04-22 13:38:00.565  INFO 9408 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2019-04-22 13:38:00.596  INFO 9408 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 31 ms
2019-04-22 13:38:00.768  INFO 9408 --- [main] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-04-22 13:38:00.877  INFO 9408 --- [main] viarzilin.MainControllerTest             : Started MainControllerTest in 52.002 seconds (JVM running for 63.554)
2019-04-22 13:38:01.221  INFO 9408 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 13:38:01.502  INFO 9408 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-before.sql] in 281 ms.
2019-04-22 13:38:01.502  INFO 9408 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-before.sql]
2019-04-22 13:38:01.642  INFO 9408 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-before.sql] in 140 ms.
2019-04-22 13:38:02.064  INFO 9408 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-04-22 13:38:06.469  INFO 9408 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 13:38:06.500  INFO 9408 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-after.sql] in 31 ms.
2019-04-22 13:38:06.500  INFO 9408 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 13:38:06.594  INFO 9408 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-after.sql] in 94 ms.
2019-04-22 13:38:06.609  INFO 9408 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 13:38:06.609  INFO 9408 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-before.sql] in 0 ms.
2019-04-22 13:38:06.609  INFO 9408 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-before.sql]
2019-04-22 13:38:06.641  INFO 9408 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-before.sql] in 32 ms.
2019-04-22 13:38:07.141  INFO 9408 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 13:38:07.141  INFO 9408 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-after.sql] in 0 ms.
2019-04-22 13:38:07.141  INFO 9408 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 13:38:07.141  INFO 9408 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-after.sql] in 0 ms.
2019-04-22 13:38:07.187  INFO 9408 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@4052274f: startup date [Mon Apr 22 13:37:12 MSK 2019]; root of context hierarchy
2019-04-22 13:38:07.328  INFO 9408 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 13:38:07.328  INFO 9408 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-04-22 13:38:07.406  INFO 9408 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-04-22 14:31:30.621  INFO 2144 --- [main] viarzilin.MainControllerTest             : Starting MainControllerTest on DESKTOP-6NMKCEI with PID 2144 (started by Mikalai Viarzilin in G:\programs\sweater)
2019-04-22 14:31:30.652  INFO 2144 --- [main] viarzilin.MainControllerTest             : No active profile set, falling back to default profiles: default
2019-04-22 14:31:30.763  INFO 2144 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@54afd745: startup date [Mon Apr 22 14:31:30 MSK 2019]; root of context hierarchy
2019-04-22 14:31:41.170  INFO 2144 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$96263d7f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 14:31:41.372  INFO 2144 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$2ed405b9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 14:31:41.443  INFO 2144 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 14:31:41.453  INFO 2144 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@136ccbfe' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 14:31:41.482  INFO 2144 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$53a8a86b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 14:31:41.524  INFO 2144 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 14:31:42.576  INFO 2144 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway Community Edition 5.0.7 by Boxfuse
2019-04-22 14:31:42.598  INFO 2144 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-04-22 14:31:43.624  INFO 2144 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-04-22 14:31:43.646  INFO 2144 --- [main] o.f.c.internal.database.DatabaseFactory  : Database: jdbc:postgresql://localhost:5433/sweatertest (PostgreSQL 11.2)
2019-04-22 14:31:43.847  WARN 2144 --- [main] o.f.core.internal.database.Database      : Flyway upgrade recommended: PostgreSQL 11.2 is newer than this version of Flyway and support has not been tested.
2019-04-22 14:31:45.043  INFO 2144 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.489s)
2019-04-22 14:31:45.084  INFO 2144 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 4
2019-04-22 14:31:45.092  INFO 2144 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2019-04-22 14:31:46.015  INFO 2144 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2019-04-22 14:31:46.258  INFO 2144 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-22 14:31:46.926  INFO 2144 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
2019-04-22 14:31:46.934  INFO 2144 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-04-22 14:31:47.208  INFO 2144 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2019-04-22 14:31:48.019  INFO 2144 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-04-22 14:31:48.936  INFO 2144 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-04-22 14:31:48.946  INFO 2144 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@46702c26
2019-04-22 14:31:55.617  INFO 2144 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 14:32:00.491  INFO 2144 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4803bf73, org.springframework.security.web.context.SecurityContextPersistenceFilter@440d2d64, org.springframework.security.web.header.HeaderWriterFilter@4542af89, org.springframework.security.web.csrf.CsrfFilter@13f7c165, org.springframework.security.web.authentication.logout.LogoutFilter@27f31d91, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@623ded82, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@56adbb07, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@45c28c49, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@5f14590c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@13731ff4, org.springframework.security.web.session.SessionManagementFilter@6aa18912, org.springframework.security.web.access.ExceptionTranslationFilter@69f24965, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@69926b6e]
2019-04-22 14:32:01.950  INFO 2144 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 14:32:03.112  INFO 2144 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@54afd745: startup date [Mon Apr 22 14:31:30 MSK 2019]; root of context hierarchy
2019-04-22 14:32:03.345  WARN 2144 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-22 14:32:03.609  INFO 2144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.main(java.lang.String,org.springframework.ui.Model)
2019-04-22 14:32:03.609  INFO 2144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[POST]}" onto public java.lang.String viarzilin.controller.MainController.add(viarzilin.domain.User,viarzilin.domain.Message,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 14:32:03.609  INFO 2144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.greeting(java.util.Map<java.lang.String, java.lang.Object>)
2019-04-22 14:32:03.639  INFO 2144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.MessageEditorController.userMessages(viarzilin.domain.User,viarzilin.domain.User,org.springframework.ui.Model,viarzilin.domain.Message)
2019-04-22 14:32:03.639  INFO 2144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[POST]}" onto public java.lang.String viarzilin.controller.MessageEditorController.updateMessage(viarzilin.domain.User,java.lang.Long,viarzilin.domain.Message,java.lang.String,java.lang.String,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 14:32:03.649  INFO 2144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[POST]}" onto public java.lang.String viarzilin.controller.RegistrationController.addUser(java.lang.String,java.lang.String,viarzilin.domain.User,org.springframework.validation.BindingResult,org.springframework.ui.Model)
2019-04-22 14:32:03.659  INFO 2144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.registration()
2019-04-22 14:32:03.659  INFO 2144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/activate/{code}],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.activate(org.springframework.ui.Model,java.lang.String)
2019-04-22 14:32:03.680  INFO 2144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{type}/{user}/list],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model,viarzilin.domain.User,java.lang.String)
2019-04-22 14:32:03.680  INFO 2144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model)
2019-04-22 14:32:03.688  INFO 2144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/unsubscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.unsubscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 14:32:03.688  INFO 2144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.updateProfile(viarzilin.domain.User,java.lang.String,java.lang.String)
2019-04-22 14:32:03.690  INFO 2144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.userSave(java.lang.String,java.util.Map<java.lang.String, java.lang.String>,viarzilin.domain.User)
2019-04-22 14:32:03.690  INFO 2144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/subscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.subscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 14:32:03.700  INFO 2144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userEditForm(viarzilin.domain.User,org.springframework.ui.Model)
2019-04-22 14:32:03.700  INFO 2144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.getProfile(org.springframework.ui.Model,viarzilin.domain.User)
2019-04-22 14:32:03.708  INFO 2144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-04-22 14:32:03.710  INFO 2144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-04-22 14:32:03.761  INFO 2144 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/login] onto handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2019-04-22 14:32:03.832  INFO 2144 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 14:32:03.832  INFO 2144 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 14:32:03.832  INFO 2144 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/img/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 14:32:03.832  INFO 2144 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/static/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 14:32:05.431  INFO 2144 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-04-22 14:32:06.061  INFO 2144 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql]
2019-04-22 14:32:06.202  INFO 2144 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql] in 141 ms.
2019-04-22 14:32:06.857  INFO 2144 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2019-04-22 14:32:06.857  INFO 2144 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2019-04-22 14:32:06.959  INFO 2144 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 102 ms
2019-04-22 14:32:07.204  INFO 2144 --- [main] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-04-22 14:32:07.275  INFO 2144 --- [main] viarzilin.MainControllerTest             : Started MainControllerTest in 40.468 seconds (JVM running for 51.797)
2019-04-22 14:32:07.539  INFO 2144 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 14:32:07.739  INFO 2144 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-before.sql] in 200 ms.
2019-04-22 14:32:07.739  INFO 2144 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-before.sql]
2019-04-22 14:32:07.840  INFO 2144 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-before.sql] in 101 ms.
2019-04-22 14:32:09.701  INFO 2144 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-04-22 14:32:16.445  INFO 2144 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 14:32:16.473  INFO 2144 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-after.sql] in 28 ms.
2019-04-22 14:32:16.473  INFO 2144 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 14:32:16.565  INFO 2144 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-after.sql] in 92 ms.
2019-04-22 14:32:16.581  INFO 2144 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 14:32:16.596  INFO 2144 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-before.sql] in 15 ms.
2019-04-22 14:32:16.596  INFO 2144 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-before.sql]
2019-04-22 14:32:16.612  INFO 2144 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-before.sql] in 16 ms.
2019-04-22 14:32:16.836  INFO 2144 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 14:32:16.845  INFO 2144 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-after.sql] in 9 ms.
2019-04-22 14:32:16.847  INFO 2144 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 14:32:16.887  INFO 2144 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-after.sql] in 10 ms.
2019-04-22 14:32:16.926  INFO 2144 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 14:32:16.928  INFO 2144 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-before.sql] in 2 ms.
2019-04-22 14:32:16.938  INFO 2144 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-before.sql]
2019-04-22 14:32:16.948  INFO 2144 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-before.sql] in 10 ms.
2019-04-22 14:32:17.159  INFO 2144 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 14:32:17.175  INFO 2144 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-after.sql] in 0 ms.
2019-04-22 14:32:17.175  INFO 2144 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 14:32:17.175  INFO 2144 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-after.sql] in 0 ms.
2019-04-22 14:32:17.199  INFO 2144 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@54afd745: startup date [Mon Apr 22 14:31:30 MSK 2019]; root of context hierarchy
2019-04-22 14:32:17.219  INFO 2144 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 14:32:17.229  INFO 2144 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-04-22 14:32:17.321  INFO 2144 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-04-22 14:44:00.563  INFO 14656 --- [main] viarzilin.LoginTest                      : Starting LoginTest on DESKTOP-6NMKCEI with PID 14656 (started by Mikalai Viarzilin in G:\programs\sweater)
2019-04-22 14:44:00.816  INFO 14656 --- [main] viarzilin.LoginTest                      : No active profile set, falling back to default profiles: default
2019-04-22 14:44:01.341  INFO 14656 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@631e06ab: startup date [Mon Apr 22 14:44:01 MSK 2019]; root of context hierarchy
2019-04-22 14:44:09.753  INFO 14656 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$96e62e67] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 14:44:09.915  INFO 14656 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$2f93f6a1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 14:44:09.996  INFO 14656 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 14:44:10.006  INFO 14656 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@176555c' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 14:44:10.047  INFO 14656 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$54689953] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 14:44:10.087  INFO 14656 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 14:44:11.445  INFO 14656 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway Community Edition 5.0.7 by Boxfuse
2019-04-22 14:44:11.465  INFO 14656 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-04-22 14:44:12.164  INFO 14656 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-04-22 14:44:12.174  INFO 14656 --- [main] o.f.c.internal.database.DatabaseFactory  : Database: jdbc:postgresql://localhost:5433/sweatertest (PostgreSQL 11.2)
2019-04-22 14:44:12.214  WARN 14656 --- [main] o.f.core.internal.database.Database      : Flyway upgrade recommended: PostgreSQL 11.2 is newer than this version of Flyway and support has not been tested.
2019-04-22 14:44:12.649  INFO 14656 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.270s)
2019-04-22 14:44:12.710  INFO 14656 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 4
2019-04-22 14:44:12.720  INFO 14656 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2019-04-22 14:44:14.089  INFO 14656 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2019-04-22 14:44:14.362  INFO 14656 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-22 14:44:15.395  INFO 14656 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
2019-04-22 14:44:15.395  INFO 14656 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-04-22 14:44:15.759  INFO 14656 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2019-04-22 14:44:16.730  INFO 14656 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-04-22 14:44:17.328  INFO 14656 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-04-22 14:44:17.339  INFO 14656 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@56b1e527
2019-04-22 14:44:21.383  INFO 14656 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 14:44:24.767  INFO 14656 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5f65e0c0, org.springframework.security.web.context.SecurityContextPersistenceFilter@44948ac6, org.springframework.security.web.header.HeaderWriterFilter@2d34866a, org.springframework.security.web.csrf.CsrfFilter@6c46dc02, org.springframework.security.web.authentication.logout.LogoutFilter@654c2f81, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7b54a0a4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78bce1c4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6ba08a09, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@1468fc85, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@566cc6af, org.springframework.security.web.session.SessionManagementFilter@27d5eb00, org.springframework.security.web.access.ExceptionTranslationFilter@62aee901, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@687f62a5]
2019-04-22 14:44:26.266  INFO 14656 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 14:44:27.545  INFO 14656 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@631e06ab: startup date [Mon Apr 22 14:44:01 MSK 2019]; root of context hierarchy
2019-04-22 14:44:27.727  WARN 14656 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-22 14:44:27.940  INFO 14656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.main(java.lang.String,org.springframework.ui.Model)
2019-04-22 14:44:27.948  INFO 14656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[POST]}" onto public java.lang.String viarzilin.controller.MainController.add(viarzilin.domain.User,viarzilin.domain.Message,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 14:44:27.948  INFO 14656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.greeting(java.util.Map<java.lang.String, java.lang.Object>)
2019-04-22 14:44:27.950  INFO 14656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.MessageEditorController.userMessages(viarzilin.domain.User,viarzilin.domain.User,org.springframework.ui.Model,viarzilin.domain.Message)
2019-04-22 14:44:27.950  INFO 14656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[POST]}" onto public java.lang.String viarzilin.controller.MessageEditorController.updateMessage(viarzilin.domain.User,java.lang.Long,viarzilin.domain.Message,java.lang.String,java.lang.String,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 14:44:27.961  INFO 14656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[POST]}" onto public java.lang.String viarzilin.controller.RegistrationController.addUser(java.lang.String,java.lang.String,viarzilin.domain.User,org.springframework.validation.BindingResult,org.springframework.ui.Model)
2019-04-22 14:44:27.979  INFO 14656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/activate/{code}],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.activate(org.springframework.ui.Model,java.lang.String)
2019-04-22 14:44:27.981  INFO 14656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.registration()
2019-04-22 14:44:28.001  INFO 14656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.userSave(java.lang.String,java.util.Map<java.lang.String, java.lang.String>,viarzilin.domain.User)
2019-04-22 14:44:28.001  INFO 14656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/subscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.subscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 14:44:28.001  INFO 14656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{type}/{user}/list],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model,viarzilin.domain.User,java.lang.String)
2019-04-22 14:44:28.009  INFO 14656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model)
2019-04-22 14:44:28.011  INFO 14656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.getProfile(org.springframework.ui.Model,viarzilin.domain.User)
2019-04-22 14:44:28.011  INFO 14656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userEditForm(viarzilin.domain.User,org.springframework.ui.Model)
2019-04-22 14:44:28.011  INFO 14656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.updateProfile(viarzilin.domain.User,java.lang.String,java.lang.String)
2019-04-22 14:44:28.011  INFO 14656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/unsubscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.unsubscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 14:44:28.022  INFO 14656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-04-22 14:44:28.022  INFO 14656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-04-22 14:44:28.072  INFO 14656 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/login] onto handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2019-04-22 14:44:28.131  INFO 14656 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 14:44:28.133  INFO 14656 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 14:44:28.133  INFO 14656 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/img/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 14:44:28.133  INFO 14656 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/static/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 14:44:29.572  INFO 14656 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-04-22 14:44:30.071  INFO 14656 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql]
2019-04-22 14:44:30.099  INFO 14656 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql] in 20 ms.
2019-04-22 14:44:30.679  INFO 14656 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2019-04-22 14:44:30.689  INFO 14656 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2019-04-22 14:44:30.729  INFO 14656 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 30 ms
2019-04-22 14:44:30.892  INFO 14656 --- [main] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-04-22 14:44:30.932  INFO 14656 --- [main] viarzilin.LoginTest                      : Started LoginTest in 33.893 seconds (JVM running for 42.214)
2019-04-22 14:44:37.110  INFO 14656 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 14:44:37.112  INFO 14656 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-before.sql] in 2 ms.
2019-04-22 14:44:37.112  INFO 14656 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-before.sql]
2019-04-22 14:44:37.133  INFO 14656 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-before.sql] in 21 ms.
2019-04-22 14:44:37.335  INFO 14656 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-04-22 14:44:38.441  INFO 14656 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 14:44:38.451  INFO 14656 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-after.sql] in 2 ms.
2019-04-22 14:44:38.451  INFO 14656 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 14:44:38.481  INFO 14656 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-after.sql] in 30 ms.
2019-04-22 14:44:38.816  INFO 14656 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@631e06ab: startup date [Mon Apr 22 14:44:01 MSK 2019]; root of context hierarchy
2019-04-22 14:44:38.836  INFO 14656 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 14:44:38.836  INFO 14656 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-04-22 14:44:38.897  INFO 14656 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-04-22 15:10:40.152  INFO 3164 --- [main] viarzilin.MainControllerTest             : Starting MainControllerTest on DESKTOP-6NMKCEI with PID 3164 (started by Mikalai Viarzilin in G:\programs\sweater)
2019-04-22 15:10:40.168  INFO 3164 --- [main] viarzilin.MainControllerTest             : No active profile set, falling back to default profiles: default
2019-04-22 15:10:40.446  INFO 3164 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@5528a42c: startup date [Mon Apr 22 15:10:40 MSK 2019]; root of context hierarchy
2019-04-22 15:10:49.724  INFO 3164 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$475a2c4d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 15:10:49.948  INFO 3164 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$e007f487] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 15:10:50.032  INFO 3164 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 15:10:50.064  INFO 3164 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@25f61c2c' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 15:10:50.098  INFO 3164 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$4dc9739] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 15:10:50.142  INFO 3164 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 15:10:51.012  INFO 3164 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway Community Edition 5.0.7 by Boxfuse
2019-04-22 15:10:51.036  INFO 3164 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-04-22 15:10:51.702  INFO 3164 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-04-22 15:10:51.738  INFO 3164 --- [main] o.f.c.internal.database.DatabaseFactory  : Database: jdbc:postgresql://localhost:5433/sweatertest (PostgreSQL 11.2)
2019-04-22 15:10:51.788  WARN 3164 --- [main] o.f.core.internal.database.Database      : Flyway upgrade recommended: PostgreSQL 11.2 is newer than this version of Flyway and support has not been tested.
2019-04-22 15:10:52.224  INFO 3164 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.187s)
2019-04-22 15:10:52.272  INFO 3164 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 4
2019-04-22 15:10:52.274  INFO 3164 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2019-04-22 15:10:53.116  INFO 3164 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2019-04-22 15:10:53.302  INFO 3164 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-22 15:10:53.982  INFO 3164 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
2019-04-22 15:10:53.996  INFO 3164 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-04-22 15:10:54.326  INFO 3164 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2019-04-22 15:10:55.088  INFO 3164 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-04-22 15:10:56.009  INFO 3164 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-04-22 15:10:56.023  INFO 3164 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@7fac18dc
2019-04-22 15:11:07.118  INFO 3164 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 15:11:12.688  INFO 3164 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@28d7bd6b, org.springframework.security.web.context.SecurityContextPersistenceFilter@60e5eed0, org.springframework.security.web.header.HeaderWriterFilter@43cc7951, org.springframework.security.web.csrf.CsrfFilter@799fc4c9, org.springframework.security.web.authentication.logout.LogoutFilter@20a116a0, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5ce41f1f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@e460ca1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@210e2f2f, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@7c523bdd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7607340f, org.springframework.security.web.session.SessionManagementFilter@7533923b, org.springframework.security.web.access.ExceptionTranslationFilter@4a0c04ab, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@634d3439]
2019-04-22 15:11:14.125  INFO 3164 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 15:11:15.257  INFO 3164 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@5528a42c: startup date [Mon Apr 22 15:10:40 MSK 2019]; root of context hierarchy
2019-04-22 15:11:15.565  WARN 3164 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-22 15:11:15.803  INFO 3164 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.main(java.lang.String,org.springframework.ui.Model)
2019-04-22 15:11:15.807  INFO 3164 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[POST]}" onto public java.lang.String viarzilin.controller.MainController.add(viarzilin.domain.User,viarzilin.domain.Message,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 15:11:15.809  INFO 3164 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.greeting(java.util.Map<java.lang.String, java.lang.Object>)
2019-04-22 15:11:15.815  INFO 3164 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[POST]}" onto public java.lang.String viarzilin.controller.MessageEditorController.updateMessage(viarzilin.domain.User,java.lang.Long,viarzilin.domain.Message,java.lang.String,java.lang.String,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 15:11:15.819  INFO 3164 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.MessageEditorController.userMessages(viarzilin.domain.User,viarzilin.domain.User,org.springframework.ui.Model,viarzilin.domain.Message)
2019-04-22 15:11:15.831  INFO 3164 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[POST]}" onto public java.lang.String viarzilin.controller.RegistrationController.addUser(java.lang.String,java.lang.String,viarzilin.domain.User,org.springframework.validation.BindingResult,org.springframework.ui.Model)
2019-04-22 15:11:15.833  INFO 3164 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/activate/{code}],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.activate(org.springframework.ui.Model,java.lang.String)
2019-04-22 15:11:15.837  INFO 3164 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.registration()
2019-04-22 15:11:15.875  INFO 3164 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/subscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.subscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 15:11:15.877  INFO 3164 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{type}/{user}/list],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model,viarzilin.domain.User,java.lang.String)
2019-04-22 15:11:15.877  INFO 3164 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model)
2019-04-22 15:11:15.881  INFO 3164 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userEditForm(viarzilin.domain.User,org.springframework.ui.Model)
2019-04-22 15:11:15.885  INFO 3164 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/unsubscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.unsubscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 15:11:15.887  INFO 3164 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.userSave(java.lang.String,java.util.Map<java.lang.String, java.lang.String>,viarzilin.domain.User)
2019-04-22 15:11:15.893  INFO 3164 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.updateProfile(viarzilin.domain.User,java.lang.String,java.lang.String)
2019-04-22 15:11:15.893  INFO 3164 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.getProfile(org.springframework.ui.Model,viarzilin.domain.User)
2019-04-22 15:11:15.973  INFO 3164 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-04-22 15:11:15.975  INFO 3164 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-04-22 15:11:16.087  INFO 3164 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/login] onto handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2019-04-22 15:11:16.189  INFO 3164 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 15:11:16.191  INFO 3164 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 15:11:16.193  INFO 3164 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/img/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 15:11:16.193  INFO 3164 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/static/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 15:11:17.655  INFO 3164 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-04-22 15:11:18.311  INFO 3164 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql]
2019-04-22 15:11:18.455  INFO 3164 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql] in 140 ms.
2019-04-22 15:11:19.189  INFO 3164 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2019-04-22 15:11:19.189  INFO 3164 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2019-04-22 15:11:19.251  INFO 3164 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 62 ms
2019-04-22 15:11:19.503  INFO 3164 --- [main] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-04-22 15:11:19.591  INFO 3164 --- [main] viarzilin.MainControllerTest             : Started MainControllerTest in 42.242 seconds (JVM running for 49.941)
2019-04-22 15:11:19.799  INFO 3164 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 15:11:20.075  INFO 3164 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-before.sql] in 274 ms.
2019-04-22 15:11:20.075  INFO 3164 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-before.sql]
2019-04-22 15:11:20.195  INFO 3164 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-before.sql] in 120 ms.
2019-04-22 15:11:20.419  INFO 3164 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-04-22 15:11:25.501  INFO 3164 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 15:11:25.505  INFO 3164 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-after.sql] in 2 ms.
2019-04-22 15:11:25.505  INFO 3164 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 15:11:25.549  INFO 3164 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-after.sql] in 44 ms.
2019-04-22 15:11:25.565  INFO 3164 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 15:11:25.591  INFO 3164 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-before.sql] in 26 ms.
2019-04-22 15:11:25.591  INFO 3164 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-before.sql]
2019-04-22 15:11:25.599  INFO 3164 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-before.sql] in 8 ms.
2019-04-22 15:11:25.843  INFO 3164 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 15:11:25.861  INFO 3164 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-after.sql] in 18 ms.
2019-04-22 15:11:25.861  INFO 3164 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 15:11:25.867  INFO 3164 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-after.sql] in 6 ms.
2019-04-22 15:11:25.885  INFO 3164 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 15:11:25.943  INFO 3164 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-before.sql] in 54 ms.
2019-04-22 15:11:25.945  INFO 3164 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-before.sql]
2019-04-22 15:11:25.955  INFO 3164 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-before.sql] in 10 ms.
2019-04-22 15:11:26.255  INFO 3164 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 15:11:26.257  INFO 3164 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-after.sql] in 2 ms.
2019-04-22 15:11:26.257  INFO 3164 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 15:11:26.285  INFO 3164 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-after.sql] in 26 ms.
2019-04-22 15:11:26.402  INFO 3164 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 15:11:26.408  INFO 3164 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-before.sql] in 4 ms.
2019-04-22 15:11:26.410  INFO 3164 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-before.sql]
2019-04-22 15:11:26.416  INFO 3164 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-before.sql] in 6 ms.
2019-04-22 15:11:26.625  INFO 3164 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 15:11:26.631  INFO 3164 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-after.sql] in 4 ms.
2019-04-22 15:11:26.633  INFO 3164 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 15:11:26.639  INFO 3164 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-after.sql] in 6 ms.
2019-04-22 15:11:26.659  INFO 3164 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@5528a42c: startup date [Mon Apr 22 15:10:40 MSK 2019]; root of context hierarchy
2019-04-22 15:11:26.671  INFO 3164 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 15:11:26.679  INFO 3164 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-04-22 15:11:26.753  INFO 3164 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-04-22 15:24:35.584  INFO 14268 --- [main] viarzilin.MainControllerTest             : Starting MainControllerTest on DESKTOP-6NMKCEI with PID 14268 (started by Mikalai Viarzilin in G:\programs\sweater)
2019-04-22 15:24:35.598  INFO 14268 --- [main] viarzilin.MainControllerTest             : No active profile set, falling back to default profiles: default
2019-04-22 15:24:35.766  INFO 14268 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@20312893: startup date [Mon Apr 22 15:24:35 MSK 2019]; root of context hierarchy
2019-04-22 15:24:46.668  INFO 14268 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$b87be856] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 15:24:46.928  INFO 14268 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$5129b090] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 15:24:46.995  INFO 14268 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 15:24:47.021  INFO 14268 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@d7bbf12' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 15:24:47.078  INFO 14268 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$75fe5342] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 15:24:47.137  INFO 14268 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 15:24:48.197  INFO 14268 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway Community Edition 5.0.7 by Boxfuse
2019-04-22 15:24:48.230  INFO 14268 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-04-22 15:24:48.817  INFO 14268 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-04-22 15:24:48.865  INFO 14268 --- [main] o.f.c.internal.database.DatabaseFactory  : Database: jdbc:postgresql://localhost:5433/sweatertest (PostgreSQL 11.2)
2019-04-22 15:24:48.908  WARN 14268 --- [main] o.f.core.internal.database.Database      : Flyway upgrade recommended: PostgreSQL 11.2 is newer than this version of Flyway and support has not been tested.
2019-04-22 15:24:49.595  INFO 14268 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.322s)
2019-04-22 15:24:49.663  INFO 14268 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 4
2019-04-22 15:24:49.667  INFO 14268 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2019-04-22 15:24:50.796  INFO 14268 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2019-04-22 15:24:50.918  INFO 14268 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-22 15:24:51.876  INFO 14268 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
2019-04-22 15:24:51.884  INFO 14268 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-04-22 15:24:52.671  INFO 14268 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2019-04-22 15:24:54.428  INFO 14268 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-04-22 15:24:56.413  INFO 14268 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-04-22 15:24:56.417  INFO 14268 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@110620d
2019-04-22 15:25:01.435  INFO 14268 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 15:25:06.758  INFO 14268 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@674fd531, org.springframework.security.web.context.SecurityContextPersistenceFilter@50b2ba2c, org.springframework.security.web.header.HeaderWriterFilter@5c0d3715, org.springframework.security.web.csrf.CsrfFilter@69fe8c75, org.springframework.security.web.authentication.logout.LogoutFilter@1bcf2c64, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@15bcecf9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@18918d70, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1701beb3, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@29b0c169, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7f53b345, org.springframework.security.web.session.SessionManagementFilter@31de8099, org.springframework.security.web.access.ExceptionTranslationFilter@5400db7e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6a261998]
2019-04-22 15:25:08.259  INFO 14268 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 15:25:09.467  INFO 14268 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@20312893: startup date [Mon Apr 22 15:24:35 MSK 2019]; root of context hierarchy
2019-04-22 15:25:09.676  WARN 14268 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-22 15:25:09.897  INFO 14268 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.main(java.lang.String,org.springframework.ui.Model)
2019-04-22 15:25:09.905  INFO 14268 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[POST]}" onto public java.lang.String viarzilin.controller.MainController.add(viarzilin.domain.User,viarzilin.domain.Message,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 15:25:09.907  INFO 14268 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.greeting(java.util.Map<java.lang.String, java.lang.Object>)
2019-04-22 15:25:09.907  INFO 14268 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.MessageEditorController.userMessages(viarzilin.domain.User,viarzilin.domain.User,org.springframework.ui.Model,viarzilin.domain.Message)
2019-04-22 15:25:09.907  INFO 14268 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[POST]}" onto public java.lang.String viarzilin.controller.MessageEditorController.updateMessage(viarzilin.domain.User,java.lang.Long,viarzilin.domain.Message,java.lang.String,java.lang.String,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 15:25:09.917  INFO 14268 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.registration()
2019-04-22 15:25:09.923  INFO 14268 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/activate/{code}],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.activate(org.springframework.ui.Model,java.lang.String)
2019-04-22 15:25:09.927  INFO 14268 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[POST]}" onto public java.lang.String viarzilin.controller.RegistrationController.addUser(java.lang.String,java.lang.String,viarzilin.domain.User,org.springframework.validation.BindingResult,org.springframework.ui.Model)
2019-04-22 15:25:09.955  INFO 14268 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userEditForm(viarzilin.domain.User,org.springframework.ui.Model)
2019-04-22 15:25:09.955  INFO 14268 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.updateProfile(viarzilin.domain.User,java.lang.String,java.lang.String)
2019-04-22 15:25:09.964  INFO 14268 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/subscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.subscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 15:25:09.964  INFO 14268 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/unsubscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.unsubscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 15:25:09.972  INFO 14268 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.userSave(java.lang.String,java.util.Map<java.lang.String, java.lang.String>,viarzilin.domain.User)
2019-04-22 15:25:09.974  INFO 14268 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.getProfile(org.springframework.ui.Model,viarzilin.domain.User)
2019-04-22 15:25:09.976  INFO 14268 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model)
2019-04-22 15:25:09.976  INFO 14268 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{type}/{user}/list],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model,viarzilin.domain.User,java.lang.String)
2019-04-22 15:25:09.988  INFO 14268 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-04-22 15:25:09.988  INFO 14268 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-04-22 15:25:10.057  INFO 14268 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/login] onto handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2019-04-22 15:25:10.217  INFO 14268 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 15:25:10.217  INFO 14268 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 15:25:10.217  INFO 14268 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/img/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 15:25:10.217  INFO 14268 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/static/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 15:25:12.643  INFO 14268 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-04-22 15:25:14.037  INFO 14268 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql]
2019-04-22 15:25:14.188  INFO 14268 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql] in 143 ms.
2019-04-22 15:25:15.343  INFO 14268 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2019-04-22 15:25:15.345  INFO 14268 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2019-04-22 15:25:15.396  INFO 14268 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 51 ms
2019-04-22 15:25:15.820  INFO 14268 --- [main] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-04-22 15:25:16.046  INFO 14268 --- [main] viarzilin.MainControllerTest             : Started MainControllerTest in 43.889 seconds (JVM running for 53.587)
2019-04-22 15:25:16.310  INFO 14268 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 15:25:16.450  INFO 14268 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-before.sql] in 140 ms.
2019-04-22 15:25:16.450  INFO 14268 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-before.sql]
2019-04-22 15:25:16.482  INFO 14268 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-before.sql] in 30 ms.
2019-04-22 15:25:16.848  INFO 14268 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-04-22 15:25:24.377  INFO 14268 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 15:25:24.440  INFO 14268 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-after.sql] in 63 ms.
2019-04-22 15:25:24.440  INFO 14268 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 15:25:24.549  INFO 14268 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-after.sql] in 109 ms.
2019-04-22 15:25:24.549  INFO 14268 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 15:25:24.565  INFO 14268 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-before.sql] in 16 ms.
2019-04-22 15:25:24.565  INFO 14268 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-before.sql]
2019-04-22 15:25:24.643  INFO 14268 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-before.sql] in 78 ms.
2019-04-22 15:25:24.877  INFO 14268 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 15:25:24.893  INFO 14268 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-after.sql] in 16 ms.
2019-04-22 15:25:24.893  INFO 14268 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 15:25:24.893  INFO 14268 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-after.sql] in 0 ms.
2019-04-22 15:25:24.909  INFO 14268 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 15:25:24.955  INFO 14268 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-before.sql] in 46 ms.
2019-04-22 15:25:24.955  INFO 14268 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-before.sql]
2019-04-22 15:25:24.987  INFO 14268 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-before.sql] in 32 ms.
2019-04-22 15:25:26.002  INFO 14268 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 15:25:26.018  INFO 14268 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-after.sql] in 16 ms.
2019-04-22 15:25:26.018  INFO 14268 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 15:25:26.033  INFO 14268 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-after.sql] in 15 ms.
2019-04-22 15:25:26.033  INFO 14268 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 15:25:26.064  INFO 14268 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-before.sql] in 31 ms.
2019-04-22 15:25:26.064  INFO 14268 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-before.sql]
2019-04-22 15:25:26.111  INFO 14268 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-before.sql] in 47 ms.
2019-04-22 15:25:26.314  INFO 14268 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 15:25:26.361  INFO 14268 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-after.sql] in 47 ms.
2019-04-22 15:25:26.361  INFO 14268 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 15:25:26.361  INFO 14268 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-after.sql] in 0 ms.
2019-04-22 15:25:26.424  INFO 14268 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@20312893: startup date [Mon Apr 22 15:24:35 MSK 2019]; root of context hierarchy
2019-04-22 15:25:26.439  INFO 14268 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 15:25:26.455  INFO 14268 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-04-22 15:25:26.549  INFO 14268 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-04-22 15:26:23.781  INFO 11908 --- [main] viarzilin.LoginTest                      : Starting LoginTest on DESKTOP-6NMKCEI with PID 11908 (started by Mikalai Viarzilin in G:\programs\sweater)
2019-04-22 15:26:23.781  INFO 11908 --- [main] viarzilin.LoginTest                      : No active profile set, falling back to default profiles: default
2019-04-22 15:26:24.046  INFO 11908 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@49a64d82: startup date [Mon Apr 22 15:26:24 MSK 2019]; root of context hierarchy
2019-04-22 15:26:40.811  INFO 11908 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3e04efb1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 15:26:41.257  INFO 11908 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$d6b2b7eb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 15:26:41.328  INFO 11908 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 15:26:41.338  INFO 11908 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6adc5b9c' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 15:26:41.378  INFO 11908 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$fb875a9d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 15:26:41.520  INFO 11908 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-22 15:26:42.901  INFO 11908 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway Community Edition 5.0.7 by Boxfuse
2019-04-22 15:26:42.972  INFO 11908 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-04-22 15:26:44.230  INFO 11908 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-04-22 15:26:44.250  INFO 11908 --- [main] o.f.c.internal.database.DatabaseFactory  : Database: jdbc:postgresql://localhost:5433/sweatertest (PostgreSQL 11.2)
2019-04-22 15:26:44.372  WARN 11908 --- [main] o.f.core.internal.database.Database      : Flyway upgrade recommended: PostgreSQL 11.2 is newer than this version of Flyway and support has not been tested.
2019-04-22 15:26:45.142  INFO 11908 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.373s)
2019-04-22 15:26:45.190  INFO 11908 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 4
2019-04-22 15:26:45.192  INFO 11908 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2019-04-22 15:26:46.593  INFO 11908 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2019-04-22 15:26:46.944  INFO 11908 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-22 15:26:48.056  INFO 11908 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
2019-04-22 15:26:48.069  INFO 11908 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-04-22 15:26:48.724  INFO 11908 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2019-04-22 15:26:49.889  INFO 11908 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2019-04-22 15:26:50.873  INFO 11908 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000421: Disabling contextual LOB creation as hibernate.jdbc.lob.non_contextual_creation is true
2019-04-22 15:26:50.883  INFO 11908 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@1d7c9811
2019-04-22 15:26:58.059  INFO 11908 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 15:27:03.806  INFO 11908 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@56351c02, org.springframework.security.web.context.SecurityContextPersistenceFilter@6a261998, org.springframework.security.web.header.HeaderWriterFilter@33060020, org.springframework.security.web.csrf.CsrfFilter@5ef7ae2f, org.springframework.security.web.authentication.logout.LogoutFilter@703eead0, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5169db2f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@15bcecf9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1b120d48, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@38394e76, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@51097500, org.springframework.security.web.session.SessionManagementFilter@a72925, org.springframework.security.web.access.ExceptionTranslationFilter@32e7df65, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4603c412]
2019-04-22 15:27:05.398  INFO 11908 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 15:27:06.594  INFO 11908 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@49a64d82: startup date [Mon Apr 22 15:26:24 MSK 2019]; root of context hierarchy
2019-04-22 15:27:06.898  WARN 11908 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-22 15:27:07.101  INFO 11908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.main(java.lang.String,org.springframework.ui.Model)
2019-04-22 15:27:07.119  INFO 11908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/main],methods=[POST]}" onto public java.lang.String viarzilin.controller.MainController.add(viarzilin.domain.User,viarzilin.domain.Message,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 15:27:07.121  INFO 11908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String viarzilin.controller.MainController.greeting(java.util.Map<java.lang.String, java.lang.Object>)
2019-04-22 15:27:07.121  INFO 11908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[POST]}" onto public java.lang.String viarzilin.controller.MessageEditorController.updateMessage(viarzilin.domain.User,java.lang.Long,viarzilin.domain.Message,java.lang.String,java.lang.String,org.springframework.web.multipart.MultipartFile) throws java.io.IOException
2019-04-22 15:27:07.131  INFO 11908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user-messages/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.MessageEditorController.userMessages(viarzilin.domain.User,viarzilin.domain.User,org.springframework.ui.Model,viarzilin.domain.Message)
2019-04-22 15:27:07.150  INFO 11908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[POST]}" onto public java.lang.String viarzilin.controller.RegistrationController.addUser(java.lang.String,java.lang.String,viarzilin.domain.User,org.springframework.validation.BindingResult,org.springframework.ui.Model)
2019-04-22 15:27:07.152  INFO 11908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/activate/{code}],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.activate(org.springframework.ui.Model,java.lang.String)
2019-04-22 15:27:07.152  INFO 11908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration],methods=[GET]}" onto public java.lang.String viarzilin.controller.RegistrationController.registration()
2019-04-22 15:27:07.172  INFO 11908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.getProfile(org.springframework.ui.Model,viarzilin.domain.User)
2019-04-22 15:27:07.172  INFO 11908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/subscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.subscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 15:27:07.172  INFO 11908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{type}/{user}/list],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model,viarzilin.domain.User,java.lang.String)
2019-04-22 15:27:07.180  INFO 11908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userList(org.springframework.ui.Model)
2019-04-22 15:27:07.182  INFO 11908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.userSave(java.lang.String,java.util.Map<java.lang.String, java.lang.String>,viarzilin.domain.User)
2019-04-22 15:27:07.182  INFO 11908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.userEditForm(viarzilin.domain.User,org.springframework.ui.Model)
2019-04-22 15:27:07.182  INFO 11908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/profile],methods=[POST]}" onto public java.lang.String viarzilin.controller.UserController.updateProfile(viarzilin.domain.User,java.lang.String,java.lang.String)
2019-04-22 15:27:07.182  INFO 11908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/unsubscribe/{user}],methods=[GET]}" onto public java.lang.String viarzilin.controller.UserController.unsubscribe(viarzilin.domain.User,viarzilin.domain.User)
2019-04-22 15:27:07.192  INFO 11908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-04-22 15:27:07.192  INFO 11908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-04-22 15:27:07.314  INFO 11908 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/login] onto handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2019-04-22 15:27:07.466  INFO 11908 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 15:27:07.466  INFO 11908 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 15:27:07.466  INFO 11908 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/img/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 15:27:07.466  INFO 11908 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/static/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-04-22 15:27:08.985  INFO 11908 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-04-22 15:27:09.656  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql]
2019-04-22 15:27:09.716  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [org/springframework/session/jdbc/schema-postgresql.sql] in 50 ms.
2019-04-22 15:27:10.345  INFO 11908 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2019-04-22 15:27:10.355  INFO 11908 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2019-04-22 15:27:10.405  INFO 11908 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 50 ms
2019-04-22 15:27:10.659  INFO 11908 --- [main] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2019-04-22 15:27:10.709  INFO 11908 --- [main] viarzilin.LoginTest                      : Started LoginTest in 50.605 seconds (JVM running for 59.443)
2019-04-22 15:27:15.080  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 15:27:15.294  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-before.sql] in 214 ms.
2019-04-22 15:27:15.294  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-before.sql]
2019-04-22 15:27:15.606  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-before.sql] in 312 ms.
2019-04-22 15:27:15.889  INFO 11908 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-04-22 15:27:16.946  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 15:27:16.957  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-after.sql] in 0 ms.
2019-04-22 15:27:16.957  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 15:27:16.977  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-after.sql] in 20 ms.
2019-04-22 15:27:17.270  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 15:27:17.291  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-before.sql] in 21 ms.
2019-04-22 15:27:17.291  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-before.sql]
2019-04-22 15:27:17.319  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-before.sql] in 28 ms.
2019-04-22 15:27:18.335  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 15:27:18.343  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-after.sql] in 8 ms.
2019-04-22 15:27:18.345  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 15:27:18.355  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-after.sql] in 10 ms.
2019-04-22 15:27:18.365  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 15:27:18.365  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-before.sql] in 0 ms.
2019-04-22 15:27:18.365  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-before.sql]
2019-04-22 15:27:18.386  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-before.sql] in 21 ms.
2019-04-22 15:27:18.548  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 15:27:18.558  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-after.sql] in 10 ms.
2019-04-22 15:27:18.558  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 15:27:18.568  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-after.sql] in 10 ms.
2019-04-22 15:27:18.568  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 15:27:18.606  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-before.sql] in 30 ms.
2019-04-22 15:27:18.609  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-before.sql]
2019-04-22 15:27:18.619  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-before.sql] in 10 ms.
2019-04-22 15:27:19.488  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 15:27:19.510  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-after.sql] in 22 ms.
2019-04-22 15:27:19.510  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 15:27:19.520  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-after.sql] in 2 ms.
2019-04-22 15:27:19.541  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-before.sql]
2019-04-22 15:27:19.592  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-before.sql] in 31 ms.
2019-04-22 15:27:19.592  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-before.sql]
2019-04-22 15:27:19.663  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-before.sql] in 71 ms.
2019-04-22 15:27:19.845  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [messages-list-after.sql]
2019-04-22 15:27:19.845  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [messages-list-after.sql] in 0 ms.
2019-04-22 15:27:19.845  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [create-user-after.sql]
2019-04-22 15:27:19.853  INFO 11908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [create-user-after.sql] in 8 ms.
2019-04-22 15:27:19.865  INFO 11908 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@49a64d82: startup date [Mon Apr 22 15:26:24 MSK 2019]; root of context hierarchy
2019-04-22 15:27:19.906  INFO 11908 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-22 15:27:19.926  INFO 11908 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-04-22 15:27:19.985  INFO 11908 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
